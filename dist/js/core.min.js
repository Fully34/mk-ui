!function(t,n){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t.Mk=n(t,e)}):"object"==typeof module&&module.exports?module.exports=t.document?n(t,require("jquery")):function(t){if(!t.document)throw new Error("Mk requires a window with a document");return n(t,require("jquery"))}:t.Mk=n(t,t.jQuery)}("undefined"!=typeof window?window:this,function(t,n){function e(n){var e=!!n&&"number"==typeof n.length&&"length"in n&&n.length;return"function"!=typeof n&&n!==t&&(n instanceof Array||n instanceof NodeList||0===e||"number"==typeof e&&e>0&&e-1 in n)}function i(t){if(!t||"[object object]"!==t.toString().toLowerCase())return!1;var n=Object.getPrototypeOf(t),e=n.hasOwnProperty("constructor")&&n.constructor,i={}.hasOwnProperty.toString,r=i.call(Object);return!n||"function"==typeof e&&i.call(e)===r}function r(t){if("function"!=typeof t)return!1;var n=Object.keys(t).concat(Object.keys(t.prototype));return n.length<1}function o(){return"xxxx-4xxx-yxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0,e="x"==t?n:3&n|8;return e.toString(16)})}function s(t){var n,e,r;if(t instanceof Array)for(n=0,e=t.length,r=[];n<e&&r.push(s(t[n]));n++);else if(i(t)){r={};for(n in t)r[n]=s(t[n]),e=!0}return r||t}function u(t,n,i){var r,o,s=0;if(e(n))for(r=n.length;s<r&&(o=i.call(t,s,n[s])!==!1);s++)o===-1&&(n.splice(s,1),s--,r--);else for(s in n){if(o=i.call(t,s,n[s]),o===!1)break;o===-1&&delete n[s]}return t}function c(){if(c.enabled){if(c.key)return c.key;var t,n=document.createElement("xanimate");for(t in c.keys)if("undefined"!=typeof n.style[t])return c.key=c.keys[t]}return null}function a(t,n,e){var i,o,u=Object.getOwnPropertyDescriptor(n,e);return"undefined"!=typeof u.get?Object.defineProperty(t,e,u):(i=n[e],r(i)?(o=f(i,e),void Object.defineProperty(t,e,{get:function(){return o},set:function(t){var n=t;r(t)&&(n=f(t)),o=n}})):t[e]=s(i))}function f(t,n){if(t._id_)return t;var e=function(){this._pushsuper_(n);var e=t.apply(this,arguments);return this._popsuper_(n),e};return e._id_=o(),e.toString=function(){return t.toString()},e}function h(t){var n=this._chain_=this._chain_||[],e=this._stack_=this._stack_||[],i=n.lastIndexOf(t),r=this._super_,o=r&&r.prototype||{},s=this[t];for(i>-1&&(r=e[i].super.prototype._super_||null,o=r&&r.prototype||{});null!==r&&o.hasOwnProperty(t)&&o[t]._id_===s._id_;)r=o._super_||null,o=r&&r.prototype||{};e.push({method:t,super:r}),n.push(t)}function l(t){var n=this._chain_=this._chain_||[],e=this._stack_=this._stack_||[],i=n.lastIndexOf(t);i>-1&&(n.splice(i,1),e.splice(i,1))}function p(t,n,e,i){t=t||"",e=e||{},i=i||{},i.$key=n;var r=p.get(t,e);return r=r.replace(b,""),r=r.replace(y,function(t,r,o){return p.statements(t,n,r,o,e,i)}),r=r.replace(g,function(t,r){return p.inject(t,n,r,e,i)})}function d(){}c.enabled=!1,c.key=null,c.keys={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};var g=/{{([^{]+)}}/g,y=/{{([^}]+)}}(.*)({{\/\1}})/g,b=/[\r|\t|\n]+/g;p.get=function(t,n){var e=t;return n&&n.hasOwnProperty(t)&&(e=n[t]),e instanceof Array&&(e=e.join("")),e},p.statements=function(t,n,e,i,r,o){var s=e.split(":"),u=s[0],c=s[1];return p.map.hasOwnProperty(u)?p.map[u](i,n,r,"if"==u?o:o[c]||o,c):""},p.inject=function(t,n,e,i,r){var o=e.split(":"),s=o[0],u=o[1];return u&&p.map.hasOwnProperty(s)?p.map[s](u,n,i,r,u):r.hasOwnProperty(s)&&"undefined"!=typeof r[s]&&null!==r[s]?r[s]:""},p.markup={highlight:['<span class="highlight">',"$1","</span>"],error:['<span class="error">',"{{template}} not found","</span>"]},p.map={loop:function(t,n,e,i,r){var o,s,u,c,a,f=[];if("number"==typeof i||(s=parseInt(r,10))>-1)for(o=0;o<(s||i);o++)i.$index=o,f.push(p(t,n,e,i));else if(i instanceof Array)for(o=0,u=i.length;o<u;o++)c=i[o],"object"!=typeof c&&(c={key:"",value:i[o]}),c.$index=o,f.push(p(t,n,e,c));else for(o in i)a=a||0,f.push(p(t,n,e,{key:o,value:i[o],$index:a++}));return f.join("")},if:function(t,n,e,i,r){if(i.hasOwnProperty(r)){var o=i[r];if(void 0!==o&&null!==o&&""!==o&&o!==!1||o instanceof Array&&o.length>0)return p(t,n,e,i)}return""},highlight:function(t,n,e,i,r){var o,s=i.highlight||"",u=i[t];return s&&(o=p.get("highlight",p.markup),u=u.replace(new RegExp("("+s+")","gi"),o)),u},scope:function(t,n,e,i,r){return p(t,n,e,i)},template:function(t,n,e,i,r){return p(t,n,e,i)}};var m={xname:/^(\w+)\.?/,xns:/^\w+(\.?.*)$/,_add:function(t,n,e,i,r){var o=this.e(n);t.hasOwnProperty(o.name)!==!0&&(t[o.name]=[]),t[o.name].push({ns:o.ns||void 0,handler:e||function(){},context:i||null,single:r===!0})},e:function(t){return{name:this.xname.exec(t)[1]||"",ns:(this.xns.exec(t)||[])[1]||void 0}},args:function(t){for(var n=0,e=[],i=t.length;n<i&&e.push(t[n]);n++);return e},on:function(t,n,e,i){return this._add(t,n,e,i,!1)},one:function(t,n,e,i){return this._add(t,n,e,i,!0)},off:function(t,n,e){var i,r,o,s=this.e(n);if(t.hasOwnProperty(s.name)){i=t[s.name],o=s.ns||void 0;for(var u=0,c=i.length;u<c;u++)r=i[u],r.ns!==o||"undefined"!=typeof e&&e!==r.handler||(i.splice(u,1),c=i.length,u--)}},emit:function(n,e){var i,r,o=this.args(e),s=o.shift(),u=this.e(s);if(n.hasOwnProperty(u.name)){i=n[u.name];for(var c=0,a=i.length;c<a;c++)r=i[c],u.ns&&r.ns!==u.ns||(r.handler.apply(r.context||t,o),r.single&&(i.splice(c,1),a=i.length,c--))}}},v=navigator.userAgent,_={agentexp:/(android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini)/i,get is(){return this.agentexp.test(v)},get isAndroid(){return"android"===this.id},get isWebos(){return"webos"===this.id},get isiPhone(){return"iphone"===this.id},get isiPad(){return"ipad"===this.id},get isiPod(){return"ipod"===this.id},get isBlackberry(){return"blackberry"===this.id},get isIEMobile(){return"iemobile"===this.id},get isOperaMini(){return"opera mini"===this.id},get id(){return((this.agentexp.exec(v)||[])[1]||"").toLowerCase()}},j=function(){function t(t,n,e){if(t){var i=t._id=t._id||o(),s=r[i]||{},u=e;return void 0===u?(u=s[n]||node.getAttribute("data-"+n)||null,s[n]=u):null===e?(u=s[n],delete s[n]):s[n]=u,r[i]=s,u}}function n(t,n){this.find(t,n)}var i=document,r={},s=[].slice,c=[].splice,a=[].push,f=/^\s*<([^>\s]+)/,h=/1|9|11/,l={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],li:[1,"<ul>","</ul>"],dd:[1,"<dl>","</dl>"],defaultt:[0,"",""]};return l.caption=l.thead,l.optgroup=l.option,l.tbody=l.thead,l.tfoot=l.thead,l.dt=l.dd,n.prototype={length:0,constructor:n,each:function(t){return u(this,this,t)},find:function(t,n){t=t||i,n=n||this.length&&this||i;var r=t;return"string"==typeof t&&(r=f.test(t)&&this.markup(t)||n.querySelectorAll(t)),r&&h.test(r.nodeType)&&(r=[r]),e(r)&&(r=s.call(r)),c.call(this,0,this.length||0),a.apply(this,r),this.context=n,this},is:function(t){var e=new n(t,this.context),i=!1;return this.each(function(t,n){if(e.each(function(t,e){if(n===e)return i=!0,!1}),i)return!1}),i},filter:function(t){var e=new n(t,this.context),i=[];return this.each(function(t,n){e.each(function(t,e){n===e&&i.push(n)})}),new n(i,this.context)},markup:function(t){var n=i.createElement("template");if(n.content)return n.innerHTML=t,s.call(n.content.childNodes);var e=f.exec(t)[1]||null,r=e&&l.hasOwnProperty(e)&&l[e]||l.defaultt,o=0;for(n=i.createElement("div"),n.innerHTML=r[1]+t+r[2];o<r[0];)n=n.firstChild,o++;return s.call(n.childNodes)},html:function(t){return void 0===t?this.length?this[0].innerHTML:null:this.each(function(n,e){for(;e.firstChild;)e.removeChild(e.firstChild);u(this,this.markup(t),function(t,n){e.appendChild(n)})})},text:function(t){return void 0===t?this.length?this[0].textContent:null:this.each(function(n,e){e.textContent=t})},nv:function(t,n,e){if("object"==typeof t){for(var i in t)e.call(this,i,t[i]);return this}return e.call(this,t,n)},attr:function(t,n){return this.nv(t,n,function(t,n){return void 0===n?this.length&&this[0].getAttribute(t):this.each(function(e,i){return null===n?void i.removeAttribute(t):void i.setAttribute(t,n)})})},data:function(n,e){return this.nv(n,e,function(n,e){return void 0===e?t(this[0],n):this.each(function(i,r){t(r,n,e)})})},css:function(t,n){return this.nv(t,n,function(t,n){return void 0===n&&this.length?getComputedStyle(this[0]).getPropertyValue(n):this.each(function(e,i){i.style[t]="number"==typeof n&&n+"px"||n})})},hasClass:function(t){var n=!1;return this.each(function(e,i){if(i.classList.contains(t))return n=!0,!1}),n},addClass:function(t){var n=t.split(" ");return u(this,n,function(t,n){this.each(function(t,e){e.classList.add(n)})})},removeClass:function(t){var n=t.split(" ");return u(this,n,function(t,n){this.each(function(t,e){e.classList.remove(n)})})},appendTo:function(t,e){var i=new n(t,e)[0]||null;return i&&this.each(function(t,n){i.appendChild(n)}),this},prependTo:function(t,e){var i=new n(t,e)[0]||null;return i&&this.each(function(t,n){return i.firstChild?void i.insertBefore(n,i.firstChild):void i.appendChild(n)}),this}},n}();return window.dom=function(t,n){return new j(t,n)},d._$=n,d._uid=o,d._copy=s,d._each=u,d._property=a,d._pushsuper=h,d._popsuper=l,d._transition=c,d._template=p,d._eventEmitter=m,d._device=_,d._keycodes={backspace:8,tab:9,enter:13,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,left:37,right:39,comma:188},d.define=function(t,n){for(var e=d,i=t.split("."),r=0,o=i.length-1;r<o;r++)e.hasOwnProperty(i[r])||(e[i[r]]={}),e=e[i[r]];return e[i[i.length-1]]=n},d.get=function(t){for(var n=null,e=d,i=t.split("."),r=0,o=i.length;r<o;r++)e.hasOwnProperty(i[r])?(n=e[i[r]],e=n):n=null;return n},d.transitions=function(t){return t===!0?d._transition.enabled=!0:t===!1&&(d._transition.enabled=!1),d._transition.enabled},d.create=function(t,n,e){t=t||"",e=e||n||{},n="function"==typeof n&&n.prototype instanceof d&&n||d;var i,r,o=function(){return this._init.apply(this,arguments),this};o.prototype=Object.create(n.prototype);for(i in e)d._property(o.prototype,e,i);if(n!==d)for(r in n)d._property(o,n,r);return o.prototype.constructor=o,o.prototype._super_=n,this.define(t,o)},d.prototype={name:"",constructor:d,templates:{},formats:{},config:null,events:null,root:null,get _pushsuper_(){return d._pushsuper},get _popsuper_(){return d._popsuper},get super(){var t,n=this._stack_[this._stack_.length-1];return n&&(t=n.super&&n.super.prototype&&n.super.prototype[n.method]),t},get keycode(){return d._keycodes},get transitions(){return d._transition.enabled},get version(){return"v1.0.0"},get element(){return this.root[0]},get device(){return d._device},$:function(t,n){return d._$(t,n)},uid:function(){return d._uid()},copy:function(t){return d._copy(t)},template:function(t,n){return d._template(t,this.name,this.config.templates,n)},format:function(t,n){return d._template(t,this.name,this.config.formats,n)},html:function(t,n){return this.$(this.template(t,n))},each:function(t,n){return d._each(this,t,n)},node:function(t,n){return this.$(this.selector(t),n||this.root||null)},selector:function(t){return"."+this.name+(t&&"-"+t||"")},transition:function(t,n){var e=this.$(t),i=d._transition(),r=this;return n=n||function(){},i?(e.addClass("transition"),e.one(i,function(t){var e=r.$(this);n.call(r,t,e),e.removeClass("transition")}),this):(e.removeClass("transition"),this.each(e,function(t,e){setTimeout(function(){n.call(r,{},r.$(e))},1)}))},clearTransitions:function(t){var n=this.$(t),e=d._transition();return e&&n.off(e),this},delay:function(t,n){var e=this;return setTimeout(function(){t.call(e)},n||1)},on:function(t,n){return d._eventEmitter.on(this.events,t,n,this),this},one:function(t,n){return d._eventEmitter.one(this.events,t,n,this),this},off:function(t,n){return d._eventEmitter.off(this.events,t,n),this},emit:function(t){return d._eventEmitter.emit(this.events,arguments),this},_init:function(t,n){this._define(t,n),this._build(),this._bind()},_define:function(t,n){return this.root=this.$(t),this.events={},this.config={templates:{},formats:{}},this.each(this.formats,function(t,n){this.config.formats[t]=n}),this.each(this.templates,function(t,n){this.config.templates[t]=n}),this._config(n),this},_config:function(t){return t=t||{},this.each(t,function(t,n){var e=!1;"object"==typeof n&&this.config.hasOwnProperty(t)&&this.each(n,function(n,i){this.config[t][n]=i,e=!0}),e===!1&&(this.config[t]=n)}),this},_param:function(t,n,e,i,r){var o,s;if(e.hasOwnProperty(t)&&(o=e[t]),"undefined"==typeof o&&"undefined"!==n&&(o=(r||this.root).data(t)),s=typeof o,s!==n)switch(s){case"boolean":o="true"===o||"false";break;case"number":o=parseFloat(o,10);break;case"string":o=o.toString();case"undefined":o=i;break;case"object":o=null===o?i:o}return e[t]=o,this},_build:function(){},_bind:function(){}},d});