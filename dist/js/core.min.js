!function(t,n){"function"==typeof define&&define.amd?define([],function(){return t.Mk=n(t)}):"object"==typeof module&&module.exports?module.exports=t.document?n(t):function(t){if(!t.document)throw new Error("Mk[ui] requires a window with a document");return n(t)}:t.Mk=n(t)}("undefined"!=typeof window&&window||this,function(t){"use strict";var n={}.hasOwnProperty,e=function(){};return e.fn={},e.$=function(n,e){return t.jQuery(n,e)},e.fn.uid=function(){return"xxxx-4xxx-yxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0,e="x"==t&&n||3&n|8;return e.toString(16)})},e.type=function(t,i){for(var r,o,a=i.toLowerCase().split("|"),u=a.length,c=e.fn.typemap,f=0;f<u;f++)if(o=a[f],(r=n.call(c,o)?c[o]:c.defaultt)(t,o))return!0;return!1},e.fn.typemap={index:function(t,n){return t.indexOf(n)>-1},array:function(t){return t instanceof Array},empty:function(t){return""===t||null===t||void 0===t||t===!1},null:function(t){return null===t},date:function(t){return t instanceof Date||t===Date},nodelist:function(t){return t instanceof NodeList},node:function(t){return/1|9|11/.test(t&&t.nodeType||0)},window:function(t){return t&&t===t.window},function:function(t){return"function"==typeof t&&!e.fn.typemap.classlike(t)},arraylike:function(t){if(e.type(t,"function|string|window"))return!1;var n=!!t&&"number"==typeof t.length,i=n&&"length"in t&&t.length;return e.type(t,"array|nodelist")||0===i||n&&i>0&&i-1 in t},instance:function(t){var n=Object.getPrototypeOf(t),e=n&&n.hasOwnProperty("constructor")&&n.constructor,i={}.hasOwnProperty.toString;return("function"==typeof e&&i.call(e)===i.call(Object))!=!0},descriptor:function(t){var n=e.fn.typemap.index,i=Object.keys(t)||[];if(n(i,"enumerable")&&n(i,"configurable")){if(n(i,"value"))return n(i,"writable");if(n(i,"get"))return n(i,"set")}return!1},classlike:function(t){return"function"==typeof t&&Object.keys(t.prototype).length>0},object:function(t){return!(!t||"object"!=typeof t||t instanceof Array)},defaultt:function(t,n){return typeof t===n}},e.fn.each=function(t,n,i){var r,a,u=0;if(e.type(n,"arraylike"))for(r=n.length;u<r&&(a=i.call(t,n[u],u,n),a!==!1);u++)a===-1&&([].splice.call(n,u,1),u--,r--);else for(u in n){if(a=i.call(t,n[u],u,n),a===!1)break;a===-1&&delete o[u]}return t},e.fn.find=function(t,n,i){var r;return e.fn.each(t,n,function(t,n,e){if(r=i.call(this,t,n,e),void 0!==r)return!1}),r},e.fn.map=function(t,n,i){var r,a,u;if(e.type(n,"arraylike"))r=[],Array.prototype.map.call(n,function(n,e,o){a=i.call(t,n,e,o),void 0!==a&&r.push(a)});else{r={};for(u in o)a=i.call(t,n[u],u,n),void 0!==a&&(r[u]=a)}return r},e.fn.filter=function(t,n,i){if(e.type(n,"arraylike"))return Array.prototype.filter.call(n,function(n,e,r){return i.call(t,n,e,r)});var r,o={};for(r in n)i.call(t,n[r],r,n)!==!1&&(o[r]=n[r]);return o},e.fn.keycodes={backspace:8,tab:9,enter:13,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,left:37,right:39,comma:188},e.extend=function(t,n,i){var r;if(e.type(i,"undefined"))for(r in n)e.extend(t,n,r);else r=Object.getOwnPropertyDescriptor(n,i),!r||void 0===r.get&&void 0===r.set?e.property(t,i,r.writable?r.value:r):Object.defineProperty(t,i,r);return this},e.property=function(t,n,i){var r,o=i;return e.type(i,"function")&&(r=e.fn.wrapFunction(i,n),o={enumerable:!0,configurable:!0,get:function(){return r},set:function(t){return e.type(t,"function")?void(r=e.fn.wrapFunction(t,n)):void(r=t)}}),e.type(o,"descriptor")||(o={value:i,writable:!0,configurable:!0,enumerable:!0}),Object.defineProperty(t,n,o),this},e.fn.wrapFunction=function(t,n){if(t._id_)return t;var i=function(){this._pushSuper(n);var e=t.apply(this,arguments);return this._popSuper(n),e};return i._id_=e.fn.uid(),i.toString=function(){return t.toString()},i},e.fn.pushSuper=function(t){this._chain_=this._chain_||[],this._chain_.push(t)},e.fn.popSuper=function(t){this._chain_.splice(this._chain_.lastIndexOf(t),1)},e.fn.eventEmitter={add:function(t){var e=t.bucket,i=this.event(t.type);t.namespace=i.ns,t.type=i.type,n.call(e,i.type)||(e[i.type]=[]),e[i.type].push(t)},event:function(t){return{type:/^(\w+)\.?/.exec(t)[1]||"",namespace:(/^\w+(\.?.*)$/.exec(t)||[])[1]||void 0}},args:function(t){return e.fn.map(this,t,function(t){return t})},on:function(t){return this.add(t)},one:function(t){return t.single=!0,this.add(t)},off:function(t,i,r,o){var a=t.bucket,u=t.handler,c=this.event(t.type);if(n.call(a,c.type))for(var f,s=a[c.type],l=e.type(u,"undefined"),p=c.namespace,h=s.length,d=0;d<h;d++)f=s[d],f.namespace!==p||!l&&u!==f.handler||(s.splice(d,1),h--,d--)},emit:function(e,i){var r=this.args(i),o=r.shift(),a=this.event(o);if(n.call(e,a.type))for(var u,c=a.namespace,f=e[a.type],s=f.length,l=0;l<s;l++)u=f[l],c&&u.namespace!==c||(u.handler.apply(u.context||t,r),u.single&&(f.splice(l,1),s--,l--))}},e.transitions={_enabled:!1,_key:null,_keys:{transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},get enabled(){return this._enabled},get disabled(){return this._enabled!==!0},get key(){if(this.enabled){if(this._key)return this._key;var t,n=this._keys,i=document.createElement("xanimate");for(t in n)if(!e.type(i.style[t],"undefined"))return this._key=n[t]}},enable:function(){return this._enabled=!0},disable:function(){return this._enabled=!1}},e.fn.template={xWhitespace:/[\r|\t|\n]+/g,xStatements:/{{([^}]+)}}(.*)({{\/\1}})/g,xInjections:/{{([^{]+)}}/g,markup:{highlight:'<span class="highlight">$1</span>',error:'<span class="error">{{template}} not found</span>'},parse:function(t,n,e,i){t=t||"",i=i||{},i.$key=n,e=e||{};var r=this;return r.get(t,e).replace(r.xWhitespace,"").replace(r.xStatements,function(t,o,a){return r.statements(t,n,o,a,e,i)}).replace(r.xInjections,function(t,o){return r.inject(t,n,o,e,i)})},get:function(t,e){var i=t;return e&&n.call(e,t)&&(i=e[t]),i instanceof Array&&(i=i.join("")),i},statements:function(t,e,i,r,o,a){var u=i.split(":"),c=u[0],f=u[1];return n.call(this.map,c)?this.map[c](r,e,o,"if"==c?a:a[f]||a,f):""},inject:function(t,i,r,o,a){var u=r.split(":"),c=u[0],f=u[1];return f&&n.call(this.map,c)?this.map[c](f,i,o,a,f):n.call(a,c)&&!e.type(a[c],"undefined|null")?a[c]:""},map:{loop:function(t,n,i,r,o){var a,u,c,f=e.fn.template,s=[],l=0;if(e.type(r,"arraylike"))for(a=r.length;l<a;l++)u=r[l],e.type(u,"object")||(u={key:"",value:u}),u.$index=l,s.push(f.parse(t,n,i,u));else{c=0;for(a in r)s.push(f.parse(t,n,i,{key:a,value:r[l],$index:c++}))}return s.join("")},if:function(t,i,r,o,a){if(n.call(o,a)){var u=o[a];if(!e.type(u,"empty")||u instanceof Array&&u.length>0)return e.fn.template.parse(t,i,r,o)}return""},highlight:function(t,n,i,r,o){var a,u=(e.fn.template,r[o]),c=r.highlight||"";return c&&(a=tp.get("highlight",tp.markup),u=u.replace(new RegExp("("+c+")","gi"),a)),u},scope:function(t,n,i,r){return e.fn.template.parse(t,n,i,r)},template:function(t,n,i,r){return e.fn.template.parse(t,n,i,r)}}},e.define=function(t,i){for(var r=e,o=t.split("."),a=o.length-1,u=0;u<a;u++)n.call(r,o[u])||(r[o[u]]={}),r=r[o[u]];return r[o[a]]=i},e.get=function(t){for(var i=t.split("."),r=i.length,o=e,a=null,u=0;u<r;u++)n.call(o,i[u])?(a=o[i[u]],o=a):a=null;return a},e.create=function(t,n,i){t=t||"",i=i||n||{},n="function"==typeof n&&n.prototype instanceof e&&n||e;var r=function(){return this._init.apply(this,arguments),this};return r.prototype=Object.create(n.prototype),e.extend(r.prototype,i),r.prototype.constructor=r,r.prototype._super_=n,r.prototype._chain_=null,this.define(t,r)},e.prototype={name:"",constructor:e,templates:{},formats:{},config:null,events:null,root:null,deviceExp:/(android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini)/i,get _pushSuper(){return e.fn.pushSuper},get _popSuper(){return e.fn.popSuper},get super(){for(var t=this,e=t._chain_||[],i=e[e.length-1],r=e.reduce(function(t,n){return n===i&&t++,t},0);r--;)t=t._super_.prototype;return t&&n.call(t,i)?t[i]:null},get keycode(){return e.fn.keycodes},get transitions(){return e.transitions.enabled},get version(){return"v1.0.0"},get element(){return this.root[0]},get device(){return this.deviceExp.test(navigator.userAgent)},get devicekey(){var t=navigator.userAgent,n=(this.deviceExp.exec(t)||[])[1]||"";return n.toLowerCase()},$:function(t,n){return e.$(t,n)},uid:function(){return e.fn.uid()},template:function(t,n){return e.fn.template.parse(t,this.name,this.config.templates,n)},format:function(t,n){return e.fn.template.parse(t,this.name,this.config.formats,n)},html:function(t,n){return this.$(this.template(t,n))},each:function(t,n){return e.fn.each(this,t,n)},find:function(t,n){return e.fn.find(this,t,n)},map:function(t,n){return e.fn.map(this,t,n)},filter:function(t,n){return e.fn.filter(this,t,n)},node:function(t,n){return this.$(this.selector(t),n||this.root||null)},selector:function(t){return"."+this.name+(t&&"-"+t||"")},transition:function(t,n){var i=this.$(t),r=e.transitions.key,o=this;return r?(i.addClass("transition"),i.one(r,function(t){i.removeClass("transition"),n.call(o,t,i)}),this):(i.removeClass("transition"),this.each(i,function(t){this.delay(function(){n.call(this,null,this.$(t))},1)}))},clearTransitions:function(t){var n=e.transitions.key;return n&&this.$(t).off(n),this},transitioning:function(t){return this.$(t).hasClass("transition")},delay:function(t,n){var e,i=this;return e=setTimeout(function(){t.call(i),clearTimeout(e),e=null},n||1)},on:function(t,n){return e.fn.eventEmitter.on({bucket:this.events,type:t,handler:n,context:this}),this},one:function(t,n){return e.fn.eventEmitter.one({bucket:this.events,type:t,handler:n,context:this}),this},off:function(t,n){return e.fn.eventEmitter.off({bucket:this.events,type:t,handler:n}),this},emit:function(t){return e.fn.eventEmitter.emit(this.events,arguments),this},_init:function(t,n){this._define(t,n),this._build(),this._bind()},_define:function(t,n){return this.root=this.$(t),this.events={},this.config={templates:{},formats:{}},this.each(this.formats,function(t,n){this.config.formats[n]=t}),this.each(this.templates,function(t,n){this.config.templates[n]=t}),this._config(n),this},_config:function(t){t=t||{};var i=this.config;return this.each(t,function(t,r){e.type(t,"object|arraylike")&&n.call(i,r)?this.each(t,function(t,n){i[r][n]=t}):i[r]=t}),this},_param:function(t,e,i,r,o){var a,u;if(n.call(i,t)&&(a=i[t]),void 0===a&&"undefined"!=e&&(a=this.$(o||this.root).data(t)),u=typeof a,u!==e)switch(e){case"boolean":a="true"===a||!1;break;case"number":a=parseFloat(a,10);break;case"string":a+="";case"undefined":a=r;break;case"object":a=null===a?r:a}return i[t]=a,this},_build:function(){},_bind:function(){}},e});