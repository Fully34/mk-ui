!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.Mk=e(t)}):"object"==typeof module&&module.exports?module.exports=t.document?e(t):function(t){if(!t.document)throw new Error("Mk[ui] requires a window with a document");return e(t)}:t.Mk=e(t)}("undefined"!=typeof window&&window||this,function(t){"use strict";function e(t,e){return this.find(t,e)}var n={}.hasOwnProperty,i=function(){};return i.fn={},i.fn.uid=function(){return"mkxxx4xxyxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t&&e||3&e|8).toString(16)})},i.type=function(t,e){for(var r,a=e.toLowerCase().split("|"),o=a.length,s=i.fn.typemap,u=0;u<o;u++)if(r=a[u],(n.call(s,r)?s[r]:s.defaultt)(t,r))return!0;return!1},i.fn.typemap={index:function(t,e){return t.indexOf(e)>-1},array:function(t){return t instanceof Array},empty:function(t){return""===t||null===t||void 0===t||t===!1},null:function(t){return null===t},date:function(t){return t instanceof Date||t===Date},nodelist:function(t){return t instanceof NodeList},node:function(t){return/1|9|11/.test(t&&t.nodeType||0)},window:function(t){return t&&t===t.window},function:function(t){return"function"==typeof t&&!i.fn.typemap.classlike(t)},arraylike:function(t){if(i.type(t,"function|string|window"))return!1;var e=!!t&&"number"==typeof t.length,n=e&&"length"in t&&t.length;return i.type(t,"array|nodelist")||0===n||e&&n>0&&n-1 in t},instance:function(t){var e=Object.getPrototypeOf(t),n=e&&e.hasOwnProperty("constructor")&&e.constructor,i={}.hasOwnProperty.toString;return("function"==typeof n&&i.call(n)===i.call(Object))!=!0},descriptor:function(t){var e=i.fn.typemap.index,n="object"==typeof t&&Object.keys(t||{})||[];if(e(n,"enumerable")&&e(n,"configurable")){if(e(n,"value"))return e(n,"writable");if(e(n,"get"))return e(n,"set")}return!1},classlike:function(t){return"function"==typeof t&&Object.keys(t.prototype).length>0},object:function(t){return!(!t||"object"!=typeof t||t instanceof Array)},defaultt:function(t,e){return typeof t===e}},i.fn.each=function(t,e,n){var r,a,s=0;if(i.type(e,"arraylike"))for(r=e.length;s<r&&(a=n.call(t,e[s],s,e))!==!1;s++)a===-1&&([].splice.call(e,s,1),s--,r--);else for(s in e){if((a=n.call(t,e[s],s,e))===!1)break;a===-1&&delete o[s]}return t},i.fn.first=function(t,e,n){var r;return i.fn.each(t,e,function(t,e,i){if(void 0!==(r=n.call(this,t,e,i)))return!1}),r},i.fn.map=function(t,e,n){var r,a,o;if(i.type(e,"arraylike"))r=[],Array.prototype.map.call(e,function(e,i,o){void 0!==(a=n.call(t,e,i,o))&&r.push(a)});else{r={};for(o in e)void 0!==(a=n.call(t,e[o],o,e))&&(r[o]=a)}return r},i.fn.filter=function(t,e,n){if(i.type(e,"arraylike"))return Array.prototype.filter.call(e,function(e,i,r){return n.call(t,e,i,r)});var r,a={};for(r in e)n.call(t,e[r],r,e)!==!1&&(a[r]=e[r]);return a},e.cache={},e.data=function(t,n,r){var a=t._id_||i.fn.uid(),o=r,s=e.cache[a]||{};return null===n?(t._id_=null,delete e.cache[a],s):null===o?(o=s[n],delete s[n],o):(void 0===o?void 0===(o=s[n])&&/1|9|11/.test(t.nodeType)&&(o=t.getAttribute("data-"+n)||void 0):s[n]=o,t._id_=a,e.cache[a]=s,o)},e.wrap={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],li:[1,"<ul>","</ul>"],dd:[1,"<dl>","</dl>"],defaultt:[0,"",""]},e.wrap.optgroup=e.wrap.option,e.wrap.caption=e.wrap.thead,e.wrap.tbody=e.wrap.thead,e.wrap.tfoot=e.wrap.thead,e.wrap.dt=e.wrap.dd,e.markup=function(t){var n=document;if(!t)return n.createDocumentFragment();var i,r,a=n.createElement("template");if(a.content)return a.innerHTML=t,a.content;var o=(/^\s*<([^>\s]+)/.exec(t)||[])[1]||null,s=o&&e.wrap.hasOwnProperty(o)&&e.wrap[o]||e.wrap.defaultt,u=0;for(a=n.createElement("div"),a.innerHTML=s[1]+t+s[2],r=a.firstChild,i=n.createDocumentFragment();u<s[0];)r=r.firstChild,u++;return r&&i.appendChild(r),i},e.remove=function(t){if(t&&(1===t.nodeType||11===t.nodeType)){for(var n=t.childNodes,r=n.length;r--;)e.remove(n[r]);var a=e.data(t,null);a&&a.events&&i.fn.each(this,a.events,function(n,i){e.events.off(t,i)})}t.parentNode&&t.parentNode.removeChild(t)},e.events={capture:function(t,e){if(e)switch(t){case"mouseenter":case"mouseleave":case"blur":case"focus":return!0}return!1},delegate:function(t,n,i){var r=n.target,a={allowed:!1,target:t};if(i){if(n.toElement){var o=new e(n.toElement,t),s=new e(n.fromElement,t);if(o.is(i)&&s.parent(n.toElement).length||s.is(i)&&o.parent(n.fromElement).length)return a}new e(i,t).each(function(t){if(r===t||new e(r).parent(t).length)return a.allowed=!0,a.target=t,!1})}else a.allowed=!0;return a},on:function(t,e,n,i,r){var a=e.split(".");this.add({node:t,type:a.shift(),namespace:a.join("."),handler:i,single:r||!1,delegate:"string"==typeof n?n:void 0,capture:"boolean"==typeof n?n:void 0})},off:function(t,e,n){var i=e.split(".");this.remove({node:t,type:i.shift(),namespace:i.join("."),handler:n})},emit:function(t,e,n){var i=e.split("."),r=new Event(i.shift());r.namespace=i.join("."),r.data=n||[],t.dispatchEvent(r)},find:function(t,n,r){var a=e.data(t,"events")||{},o=a[n]||[];return i.fn.first(this,o,function(t){if(t.id===r)return t})},add:function(t){var n=i.fn.uid(),r=t.node,a=t.type,o=e.data(r,"events")||{},s=t.capture||this.capture(a,t.delegate),u=function(t){var i,r=e.events.find(this,t.type,n),a=e.events.delegate(this,t,r.delegate),o=!1;return t.namespace?t.namespace===r.namespace&&a.allowed&&(o=!0):a.allowed&&(o=!0),o&&(r.single&&e.events.remove({node:this,add:!1,type:r.type,handler:r.original,namespace:r.namespace}),i=r.original.apply(a.target,[t].concat(t.data))),i};o[a]=o[a]||[],o[a].push({type:a,capture:s,namespace:t.namespace,original:t.handler,delegate:t.delegate,handler:u,single:t.single,id:n}),e.data(r,"events",o),r.addEventListener(a,u,s)},remove:function(t){var n=t.node,r=t.type,a=t.handler,o=t.namespace,s=e.data(n,"events")||{},u=s[r]||[];i.fn.each(this,u,function(t){if(!(o&&t.namespace!==o||a&&a!==t.original))return n.removeEventListener(r,t.handler,t.capture),-1})}},e.prototype={length:0,context:null,constructor:e,toFrag:function(){var t=document.createDocumentFragment();return this.each(function(e){t.appendChild(e)}),t},nv:function(t,e,n){if("object"==typeof t){var i,r=Object.keys(t),a=r.length;return this.each(function(e){for(i=0;i<a;i++)n(e,r[i],t[r[i]])})}return void 0===e?this.length?n(this[0],t,e):void 0:this.each(function(i){n(i,t,e)})},first:function(){var t,e,n=/1|9|11/,i=0;if(this.length)for(t=this.length;i<t;)if(e=this[i],i++,n.test(e.nodeType))return e},last:function(){var t,e,n=/1|9|11/;if(this.length)for(e=this.length;e--;)if(t=this[e],n.test(t.nodeType))return t},each:function(t){for(var e=0,n=this.length;e<n&&t.call(this,this[e],e++)!==!1;);return this},index:function(t){if("number"!=typeof t&&this.length){for(var e=this[0],n=e.parentNode&&e.parentNode.childNodes||[],t=0,i=n.length;t<i;t++)if(n[t]===e)return t;return 0}return this.length>t&&this[t]||void 0},find:function(t,n){var r,a=document;return(n=n||this.length&&this||void 0!==this.length&&this.context||[a])===this?new e(t,n):(i.type(n,"string")?n=new e(n,a):n.nodeType&&(n=[n]),r=t,i.type(t,"string")&&(/^\s*<([^>\s]+)/.test(t)?r=this.markup(t):(r=[],i.fn.each(this,n,function(e){r=r.concat([].slice.call(e.querySelectorAll(t)))}))),r&&/1|9|11/.test(r.nodeType)&&(r=[r]),i.type(r,"arraylike")&&(r=[].slice.call(r)),[].splice.call(this,0,this.length||0),r&&[].push.apply(this,r),this.context=n,this)},is:function(t){var n=new e(t,this.context),i=!1;return this.each(function(t){if(n.each(function(e){if(t===e)return i=!0,!1}),i)return!1}),i},filter:function(t){var n=new e(t,this.context),i=[];return this.each(function(t){n.each(function(e){t===e&&i.push(t)})}),new e(i,this.context)},parent:function(t,n){var i,r=[];return arguments.length?(i=new e(t,n),this.each(function(t){for(;t.parentNode;)i.each(function(e){if(e===t.parentNode)return r.indexOf(e)<0&&r.push(e),!1}),t=t.parentNode})):this.each(function(t){t.parentNode&&r.push(t.parentNode)}),new e(r)},closest:function(t,e){return this.parent(t,e)},markup:function(t){return e.markup(t).childNodes},html:function(t){if(void 0===t){var n=this.first();return n&&n.innerHTML||""}return this.each(function(n){for(var i=n.childNodes,r=i.length;r--;)e.remove(i[r]);n.appendChild(e.markup(t))})},text:function(t){if(void 0===t){var e=this.first();return e&&e.textContent||""}return this.each(function(e){e.textContent=t})},removeAttr:function(t){return this.each(function(e){e.removeAttribute(t)})},attr:function(t,e){return this.nv(t,e,function(t,e,n){if(void 0===n)return t.getAttribute(e);t.setAttribute(e,n)})},prop:function(t,e){return this.nv(t,e,function(t,e,n){if(void 0===n)return t[e]||void 0;t[e]=n})},val:function(t){return void 0===t&&this.length?this[0].value:this.each(function(e){e.value=t})},data:function(t,n){return this.nv(t,n,function(t,n,i){if(void 0===i||null===i)return e.data(t,n,i);e.data(t,n,i)})},css:function(t,e){return this.nv(t,e,function(t,e,n){if(void 0===n)return getComputedStyle(t).getPropertyValue(n);t.style[e]="number"==typeof n&&n+"px"||n})},containsClass:function(t,e){return!(!t||"string"!=typeof e)&&!!(t.className&&t.className.trim().split(/\s+/gi).indexOf(e)>-1)},hasClass:function(t){var e=!1,n=this;return this.each(function(i){return i.classList&&i.classList.contains(t)?(e=!0,!1):n.containsClass(i,t)}),e},addClass:function(t){var e=t.split(" ");return i.fn.each(this,e,function(t){this.each(function(e){e.classList?e.classList.add(t):0===e.className.length?e.className=t.trim():e.className.indexOf(t)<0&&(e.className=e.className.trim()+" "+t.trim())})})},removeClass:function(t){var e=t.split(" ");return i.fn.each(this,e,function(t){this.each(function(e){if(e.classList)e.classList.remove(t);else if(e.className){var n=new RegExp("\\b"+t.trim()+"\\b"),i=new RegExp("\\b "+t+"\\b");e.className=e.className.replace(i,"").replace(n,"").trim()}})})},appendTo:function(t,n){var i=new e(t,n).last();return i&&i.appendChild(this.toFrag()),this},prependTo:function(t,n){var i=new e(t,n).last(),r=this.toFrag();return i&&(i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r)),this},append:function(t,n){var i=this.last();return i&&i.appendChild(new e(t,n).toFrag()),this},prepend:function(t,n){var i,r=this.last();return r&&(i=new e(t,n).toFrag(),r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i)),this},remove:function(t){var n=this;return t&&(n=new e(t,this)),n.each(function(t){e.remove(t)}),this},focus:function(){var t=this.last();return t&&t.focus(),this},blur:function(){var t=this.last();return t&&t.blur(),this},on:function(t,n,i,r){return i||(i=n,n=null),this.each(function(a){e.events.on(a,t,n,i,r)})},one:function(t,e,n){return this.on(t,e,n,!0)},off:function(t,n){return this.each(function(i){e.events.off(i,t,n)})},emit:function(t,n){return this.each(function(i){e.events.emit(i,t,n)})}},i.$=function(t,n){return new e(t,n)},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),i.extend=function(t,e,n){var r;if(i.type(n,"undefined"))for(r in e)i.extend(t,e,r);else r=Object.getOwnPropertyDescriptor(e,n),!r||void 0===r.get&&void 0===r.set?i.property(t,n,r.writable?r.value:r):Object.defineProperty(t,n,r);return this},i.property=function(t,e,n){var r,a=n;return i.type(n,"function")&&(r=i.fn.wrapFunction(n,e),a={enumerable:!0,configurable:!0,get:function(){return r},set:function(t){if(i.type(t,"function"))return void(r=i.fn.wrapFunction(t,e));r=t}}),i.type(a,"descriptor")||(a={value:n,writable:!0,configurable:!0,enumerable:!0}),Object.defineProperty(t,e,a),this},i.fn.wrapFunction=function(t,e){if(t._id_)return t;var n=function(){this._pushSuper(e);var n=t.apply(this,arguments);return this._popSuper(e),n};return n._id_=i.fn.uid(),n.toString=function(){return t.toString()},n},i.fn.pushSuper=function(t){this._chain_=this._chain_||[],this._chain_.push(t)},i.fn.popSuper=function(t){this._chain_.splice(this._chain_.lastIndexOf(t),1)},i.fn.template={xWhitespace:/[\r|\t|\n]+/g,xStatements:/{{([^}]+)}}(.*)({{\/\1}})/g,xInjections:/{{([^{]+)}}/g,markup:{highlight:'<span class="highlight">$1</span>',error:'<span class="error">{{template}} not found</span>'},parse:function(t,e,n,i){t=t||"",i=i||{},i.$key=e,n=n||{};var r=this;return r.get(t,n).replace(r.xWhitespace,"").replace(r.xStatements,function(t,a,o){return r.statements(t,e,a,o,n,i)}).replace(r.xInjections,function(t,a){return r.inject(t,e,a,n,i)})},get:function(t,e){var i=t;return e&&n.call(e,t)&&(i=e[t]),i instanceof Array&&(i=i.join("")),i},statements:function(t,e,i,r,a,o){var s=i.split(":"),u=s[0],c=s[1];return n.call(this.map,u)?this.map[u](r,e,a,"if"==u?o:o[c]||o,c):""},inject:function(t,e,r,a,o){var s=r.split(":"),u=s[0],c=s[1];return c&&n.call(this.map,u)?this.map[u](c,e,a,o,c):n.call(o,u)&&!i.type(o[u],"undefined|null")?o[u]:""},map:{loop:function(t,e,n,r,a){var o,s,u,c=i.fn.template,f=[],l=0;if(/^\d+$/.test(a)){for(o=parseInt(a,10);l<o;l++)r.$index=l,f.push(c.parse(t,e,n,r));delete r.$index}else if(i.type(r,"arraylike"))for(o=r.length;l<o;l++)s=r[l],i.type(s,"object")||(s={key:"",value:s}),s.$index=l,f.push(c.parse(t,e,n,s)),delete s.$index;else{u=0;for(o in r)f.push(c.parse(t,e,n,{key:o,value:r[l],$index:u++}))}return f.join("")},if:function(t,e,r,a,o){if(n.call(a,o)){var s=a[o];if(!i.type(s,"empty")||s instanceof Array&&s.length>0)return i.fn.template.parse(t,e,r,a)}return""},highlight:function(t,e,n,r,a){var o,s=i.fn.template,u=r[a],c=r.highlight||"";return c&&(o=s.get("highlight",s.markup),u=u.replace(new RegExp("("+c.replace(/\\/g,"\\\\")+")","gi"),o)),u},scope:function(t,e,n,r){return i.fn.template.parse(t,e,n,r)},template:function(t,e,n,r){return i.fn.template.parse(t,e,n,r)}}},i.fn.eventEmitter={add:function(t){var e=t.bucket,i=this.event(t.type);t.namespace=i.namespace,t.type=i.type,n.call(e,i.type)||(e[i.type]=[]),e[i.type].push({namespace:i.namespace,type:i.type,handler:t.handler,context:t.context})},event:function(t){return{type:/^(\w+)\.?/.exec(t)[1]||"",namespace:(/^\w+(\.?.*)$/.exec(t)||[])[1]||void 0}},args:function(t){return i.fn.map(this,t,function(t){return t})},on:function(t){return this.add(t)},one:function(t){return t.single=!0,this.add(t)},off:function(t,e,r,a){var o=t.bucket,s=t.handler,u=this.event(t.type);if(n.call(o,u.type))for(var c,f=o[u.type],l=i.type(s,"undefined"),h=u.namespace,p=f.length,d=0;d<p;d++)c=f[d],c.namespace!==h||!l&&s!==c.handler||(f.splice(d,1),p--,d--)},emit:function(e,i){var r=this.args(i),a=r.shift(),o=this.event(a);if(n.call(e,o.type))for(var s,u=o.namespace,c=e[o.type],f=c.length,l=0;l<f;l++)s=c[l],u&&s.namespace!==u||(s.handler.apply(s.context||t,r),s.single&&(c.splice(l,1),f--,l--))}},i.transitions={_enabled:!1,_key:null,_keys:{transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},get enabled(){return this._enabled},get disabled(){return this._enabled!==!0},get key(){if(this.enabled){if(this._key)return this._key;var t,e=this._keys,n=document.createElement("xanimate");for(t in e)if(!i.type(n.style[t],"undefined"))return this._key=e[t]}},enable:function(){return this._enabled=!0},disable:function(){return this._enabled=!1}},i.fn.keycodes={backspace:8,tab:9,enter:13,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,comma:188},i.define=function(t,e){for(var r=i,a=t.split("."),o=a.length-1,s=0;s<o;s++)n.call(r,a[s])||(r[a[s]]={}),r=r[a[s]];return r[a[o]]=e},i.get=function(t){for(var e=t.split("."),r=e.length,a=i,o=null,s=0;s<r;s++)n.call(a,e[s])?(o=a[e[s]],a=o):o=null;return o},i.create=function(t,e,n){t=t||"",n=n||e||{},e="function"==typeof e&&e.prototype instanceof i&&e||i;var r=function(){return this.init.apply(this,arguments),this};return r.prototype=Object.create(e.prototype),i.extend(r.prototype,n),r.prototype.constructor=r,r.prototype._super_=e,r.prototype._chain_=null,this.define(t,r)},i.prototype={name:"",constructor:i,templates:{},formats:{},config:null,events:null,root:null,deviceExp:/(android|nexus|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini)/i,get _pushSuper(){return i.fn.pushSuper},get _popSuper(){return i.fn.popSuper},get super(){for(var t=this,e=t._chain_||[],i=e[e.length-1],r=e.reduce(function(t,e){return e===i&&t++,t},0);r--;)t=t._super_.prototype;return t&&n.call(t,i)?t[i]:null},get keycode(){return i.fn.keycodes},get transitions(){return i.transitions.enabled},get version(){return"v1.0.0"},get element(){return this.root[0]},get device(){return this.deviceExp.test(navigator.userAgent)},get devicekey(){var t=navigator.userAgent;return((this.deviceExp.exec(t)||[])[1]||"").toLowerCase()},$:function(t,e){return i.$(t,e)},uid:function(){return i.fn.uid()},template:function(t,e){return i.fn.template.parse(t,this.name,this.config.templates,e)},format:function(t,e){return i.fn.template.parse(t,this.name,this.config.formats,e)},html:function(t,e){return this.$(this.template(t,e))},each:function(t,e){return i.fn.each(this,t,e)},first:function(t,e){return i.fn.first(this,t,e)},map:function(t,e){return i.fn.map(this,t,e)},filter:function(t,e){return i.fn.filter(this,t,e)},node:function(t,e){return this.$(this.selector(t),e||this.root||null)},selector:function(t){return"."+this.name+(t&&"-"+t||"")},transition:function(t,e){var n=this.$(t),r=i.transitions.key,a=this;return r?(n.addClass("transition"),n.one(r,function(t){n.removeClass("transition"),e.call(a,t,n)}),this):(n.removeClass("transition"),this.each(n,function(t){this.delay(function(){e.call(this,null,this.$(t))},1)}))},clearTransitions:function(t){var e=i.transitions.key;return e&&this.$(t).off(e).removeClass("transition"),this},transitioning:function(t){return this.$(t).hasClass("transition")},delay:function(t,e){var n,i=this;return n=setTimeout(function(){t.call(i),clearTimeout(n),n=null},e||1)},on:function(t,e){return i.fn.eventEmitter.on({bucket:this.events,type:t,handler:e,context:this}),this},one:function(t,e){return i.fn.eventEmitter.one({bucket:this.events,type:t,handler:e,context:this}),this},off:function(t,e){return i.fn.eventEmitter.off({bucket:this.events,type:t,handler:e}),this},emit:function(t){return i.fn.eventEmitter.emit(this.events,arguments),this},init:function(t,e){this.define(t,e),this.build(),this.bind(),this.mount()},define:function(t,e){return this.root=this.$(t),this.events={},this.config={templates:{},formats:{},events:{}},this.each(this.formats,function(t,e){this.config.formats[e]=t}),this.each(this.templates,function(t,e){this.config.templates[e]=t}),this.configure(e),this},configure:function(t){t=t||{};var e=this.config;return e.events,this.each(t,function(t,r){"events"===r?this.each(t,function(t,e){this.on(e,t)}):i.type(t,"object|arraylike")&&n.call(e,r)?this.each(t,function(t,n){e[r][n]=t}):e[r]=t}),this},param:function(t,e,i,r,a){var o;if(n.call(i,t))return this;if(o=this.$(a||this.root).data(t),(void 0===o&&"undefined"!==e||null===o)&&(o=r),typeof o!==e)switch(e){case"boolean":o="true"===o||!1;break;case"number":o=parseFloat(o,10);break;case"string":o+="";case"undefined":o=r;break;case"object":o=null===o?r:o}return i[t]=o,this},bind:function(){},build:function(){},mount:function(){},unmount:function(){}},i});