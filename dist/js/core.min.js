!function(t,n){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t.Mk=n(t,e)}):"object"==typeof module&&module.exports?module.exports=t.document?n(t,require("jquery")):function(t){if(!t.document)throw new Error("Mk requires a window with a document");return n(t,require("jquery"))}:t.Mk=n(t,t.jQuery)}("undefined"!=typeof window?window:this,function(t,n){function e(n){var e=!!n&&"number"==typeof n.length&&"length"in n&&n.length;return"function"!=typeof n&&n!==t&&(n instanceof Array||n instanceof NodeList||0===e||"number"==typeof e&&e>0&&e-1 in n)}function i(t){if(!t||"[object object]"!==t.toString().toLowerCase())return!1;var n=Object.getPrototypeOf(t),e=n.hasOwnProperty("constructor")&&n.constructor,i={}.hasOwnProperty.toString,r=i.call(Object);return!n||"function"==typeof e&&i.call(e)===r}function r(t){if("function"!=typeof t)return!1;var n=Object.keys(t).concat(Object.keys(t.prototype));return n.length<1}function s(){return"xxxx-4xxx-yxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0,e="x"==t?n:3&n|8;return e.toString(16)})}function u(t){var n,e,r;if(t instanceof Array)for(n=0,e=t.length,r=[];n<e&&r.push(u(t[n]));n++);else if(i(t)){r={};for(n in t)r[n]=u(t[n]),e=!0}return r||t}function a(t,n,i){var r,o,s=0;if(e(n))for(r=n.length;s<r&&(o=i.call(t,s,n[s]),o!==!1);s++)o===-1&&(n.splice(s,1),s--,r--);else for(s in n){if(o=i.call(t,s,n[s]),o===!1)break;o===-1&&delete n[s]}return t}function c(){if(c.enabled){if(c.key)return c.key;var t,n=document.createElement("xanimate");for(t in c.keys)if("undefined"!=typeof n.style[t])return c.key=c.keys[t]}return null}function h(t,n,e){var i,o,s=Object.getOwnPropertyDescriptor(n,e);return"undefined"!=typeof s.get?Object.defineProperty(t,e,s):(i=n[e],r(i)?(o=f(i,e),void Object.defineProperty(t,e,{get:function(){return o},set:function(t){var n=t;r(t)&&(n=f(t)),o=n}})):t[e]=u(i))}function f(t,n){if(t._id_)return t;var e=function(){this._pushsuper_(n);var e=t.apply(this,arguments);return this._popsuper_(n),e};return e._id_=s(),e.toString=function(){return t.toString()},e}function l(t){var n=this._chain_=this._chain_||[],e=this._stack_=this._stack_||[],i=n.lastIndexOf(t),r=this._super_,o=r&&r.prototype||{},s=this[t];for(i>-1&&(r=e[i].super.prototype._super_||null,o=r&&r.prototype||{});null!==r&&o.hasOwnProperty(t)&&o[t]._id_===s._id_;)r=o._super_||null,o=r&&r.prototype||{};e.push({method:t,super:r}),n.push(t)}function p(t){var n=this._chain_=this._chain_||[],e=this._stack_=this._stack_||[],i=n.lastIndexOf(t);i>-1&&(n.splice(i,1),e.splice(i,1))}function d(t,n,e,i){t=t||"",e=e||{},i=i||{},i.$key=n;var r=d.get(t,e);return r=r.replace(m,""),r=r.replace(g,function(t,r,o){return d.statements(t,n,r,o,e,i)}),r=r.replace(y,function(t,r){return d.inject(t,n,r,e,i)})}function v(){}c.enabled=!1,c.key=null,c.keys={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};var y=/{{([^{]+)}}/g,g=/{{([^}]+)}}(.*)({{\/\1}})/g,m=/[\r|\t|\n]+/g;d.get=function(t,n){var e=t;return n&&n.hasOwnProperty(t)&&(e=n[t]),e instanceof Array&&(e=e.join("")),e},d.statements=function(t,n,e,i,r,o){var s=e.split(":"),u=s[0],a=s[1];return d.map.hasOwnProperty(u)?d.map[u](i,n,r,"if"==u?o:o[a]||o,a):""},d.inject=function(t,n,e,i,r){var o=e.split(":"),s=o[0],u=o[1];return u&&d.map.hasOwnProperty(s)?d.map[s](u,n,i,r,u):r.hasOwnProperty(s)&&"undefined"!=typeof r[s]&&null!==r[s]?r[s]:""},d.markup={highlight:['<span class="highlight">',"$1","</span>"],error:['<span class="error">',"{{template}} not found","</span>"]},d.map={loop:function(t,n,e,i,r){var o,s,u,a,c,h=[];if("number"==typeof i||(s=parseInt(r,10))>-1)for(o=0;o<(s||i);o++)i.$index=o,h.push(d(t,n,e,i));else if(i instanceof Array)for(o=0,u=i.length;o<u;o++)a=i[o],"object"!=typeof a&&(a={key:"",value:i[o]}),a.$index=o,h.push(d(t,n,e,a));else for(o in i)c=c||0,h.push(d(t,n,e,{key:o,value:i[o],$index:c++}));return h.join("")},if:function(t,n,e,i,r){if(i.hasOwnProperty(r)){var o=i[r];if(void 0!==o&&null!==o&&""!==o&&o!==!1||o instanceof Array&&o.length>0)return d(t,n,e,i)}return""},highlight:function(t,n,e,i,r){var o,s=i.highlight||"",u=i[t];return s&&(o=d.get("highlight",d.markup),u=u.replace(new RegExp("("+s+")","gi"),o)),u},scope:function(t,n,e,i,r){return d(t,n,e,i)},template:function(t,n,e,i,r){return d(t,n,e,i)}};var b={xname:/^(\w+)\.?/,xns:/^\w+(\.?.*)$/,_add:function(t,n,e,i,r){var o=this.e(n);t.hasOwnProperty(o.name)!==!0&&(t[o.name]=[]),t[o.name].push({ns:o.ns||void 0,handler:e||function(){},context:i||null,single:r===!0})},e:function(t){return{name:this.xname.exec(t)[1]||"",ns:(this.xns.exec(t)||[])[1]||void 0}},args:function(t){for(var n=0,e=[],i=t.length;n<i&&e.push(t[n]);n++);return e},on:function(t,n,e,i){return this._add(t,n,e,i,!1)},one:function(t,n,e,i){return this._add(t,n,e,i,!0)},off:function(t,n,e){var i,r,o,s=this.e(n);if(t.hasOwnProperty(s.name)){i=t[s.name],o=s.ns||void 0;for(var u=0,a=i.length;u<a;u++)r=i[u],r.ns!==o||"undefined"!=typeof e&&e!==r.handler||(i.splice(u,1),a=i.length,u--)}},emit:function(n,e){var i,r,o=this.args(e),s=o.shift(),u=this.e(s);if(n.hasOwnProperty(u.name)){i=n[u.name];for(var a=0,c=i.length;a<c;a++)r=i[a],u.ns&&r.ns!==u.ns||(r.handler.apply(r.context||t,o),r.single&&(i.splice(a,1),c=i.length,a--))}}},_=navigator.userAgent,j={agentexp:/(android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini)/i,get is(){return this.agentexp.test(_)},get isAndroid(){return"android"===this.id},get isWebos(){return"webos"===this.id},get isiPhone(){return"iphone"===this.id},get isiPad(){return"ipad"===this.id},get isiPod(){return"ipod"===this.id},get isBlackberry(){return"blackberry"===this.id},get isIEMobile(){return"iemobile"===this.id},get isOperaMini(){return"opera mini"===this.id},get id(){return((this.agentexp.exec(_)||[])[1]||"").toLowerCase()}};(function(){function n(t,n,e){if(t){var i=t._id=t._id||s(),r=v[i]||{},o=e;return void 0===o?(o=r[n]||t.getAttribute("data-"+n)||null,r[n]=o):null===e?(o=r[n],delete r[n]):r[n]=o,v[i]=r,o}}function i(t){this.init(t)}function r(t,n,e){if(!e)return!0;if(t===n)return!0;var i=!1;return new p(e,t).each(function(t,e){if(n===e)return i=!0,!1}),i}function c(t,e,i,o,s,u,h){var f,l;return e?(f=function(n){var e,a=!1,f=r(t,n.target,h);return n.ns?n.ns===o&&f&&(e=s.apply(n.target,[n].concat(n.data)),a=!0):f&&(e=s.call(n.target,n),a=!0),a&&u&&c(t,!1,i,o,s,u,h),e},l=n(t,"events")||{},l[i]=l[i]||[],l[i].push({type:i,ns:o,original:s,handler:f,delegate:h}),n(t,"events",l),void t.addEventListener(i,f,!1)):(l=(n(t,"events")||{})[i]||[],void a(this,l,function(n,e){if((!o||o&&e.ns===o)&&(!s||s===e.original))return t.removeEventListener(i,e.handler),-1}))}function h(t,n,e,i,r,o){var s=n.split("."),u=s.shift();c(t,!0,u,s.join("."),i,r,o)}function f(t,n,e){var i=n.split("."),r=i.shift();c(t,!1,r,i.join("."),e)}function l(t,n,e){var i=n.split("."),r=i.shift(),o=new Event(r);o.ns=i.join("."),o.data=e||[],t.dispatchEvent(o)}function p(t,n){this.find(t,n)}var d=document,v={},y=[].slice,g=[].splice,m=[].push,b=/^\s*<([^>\s]+)/,_=/1|9|11/,j=function(){},x={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],li:[1,"<ul>","</ul>"],dd:[1,"<dl>","</dl>"],defaultt:[0,"",""]};return x.caption=x.thead,x.optgroup=x.option,x.tbody=x.thead,x.tfoot=x.thead,x.dt=x.dd,i.prototype={headers:{"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*"},xhr:null,open:!1,options:null,url:function(t){t=t||location.href;var n=t.lastIndexOf("/");return n>-1&&(n=t.indexOf("#"))>-1&&(t=t.substr(0,n)),t},qs:function(t){if(t=t||"","string"!=typeof t){var n=[];return a(this,t,function(t,e){n.push(t+"="+encodeURIComponent(e))}),n.join("&")}return t},init:function(t){return t=u(t||{}),t.url=this.url(t.url),t.data=this.qs(t.data),t.method=(t.method||"GET").toUpperCase(),t.type=t.type||"html",t.headers=t.headers||{},t.async=t.async||!0,t.encode=t.encode||!0,t.encoding=t.encoding||"utf-8",t.user=t.user||"",t.password=t.password||"",t.complete=t.complete||j,t.success=t.success||j,t.error=t.error||j,t.data&&"GET"===t.method&&(t.url=t.url.indexOf("?")>-1&&t.url||t.url+"?",t.url+=t.data,t.data=null),a(this,this.headers,function(n,e){t.headers.hasOwnProperty(n)!==!0&&(t.headers[n]=e)}),t.encode&&["POST","PUT"].indexOf(t.type)>-1&&(t.headers["Content-type"]="application/x-www-form-urlencoded"+t.encoding),this.options=t,t.now!==!1&&this.send(),this},jsonp:function(){if(this.open)return this;var n=this,e=n.options,i=d.createElement("script"),r=e.jsonpid="MKUI"+s().split("-").join(""),o="callback="+r;i.type="text/javascript",i.language="javascript",i.async=e.async,i.src=e.url+(e.url.indexOf("?")>-1&&"&"||"?")+o,i.id=e.scriptid=s(),i.onerror=function(){e.error.call(n)},i.onload=function(){e.complete.call(n)};var u=function(o){n.response=o,n.status=200,i.onload=null,i.onerror=null,i.parentNode.removeChild(i),e.success.call(n,o),delete t[r]};return t[r]=u,d.documentElement.firstChild.appendChild(i),this.open=!0,this.status=0,this},send:function(){if(this.open)return this;var t,n=this,e=n.options;return"jsonp"===e.type?this.jsonp():(t=this.xhr=new XMLHttpRequest,t.open(e.method,e.url,e.async,e.user,e.password),t.onreadystatechange=function(){n.stateChange()},e.user&&"withCredentials"in t&&(t.withCredentials=!0),a(this,e.headers,function(n,e){t.setRequestHeader(n,e)}),e.type&&"text"!==e.type&&(t.responseType=e.type),n.open=!0,n.status=0,t.send(e.data),e.async!==!0&&this.stateChange(),this)},abort:function(){if(this.open=!1,this.status=0,this.xhr)return this.xhr.abort(),this.xhr.onreadystatechange=null,this.xhr=null,this;var n=this,e=n.options,i=d.getElementById(e.scriptid),r=e.jsonpid;return i&&i.parentNode.removeChild(i),t[r]=function(){delete t[r]},t[r](),this},stateChange:function(){var t=this.xhr,n=this,e=n.options;4===t.readyState&&(e.complete.call(n,t),n.status=t.status,n.statusText=t.statusText,1223===n.status&&(n.status=204,n.statusText="No Content"),n.open=!1,n.response=t.response||null,""!==t.responseType&&"text"!==t.responseType||(n.response=t.responseText),t.onreadystatechange=function(){},n.status>=200&&n.status<300?e.success.call(n,n.response,t):e.error.call(n,t))}},p.ajax=function(){return new i(o)},p.prototype={length:0,context:null,constructor:p,each:function(t){return a(this,this,t)},find:function(t,n){t=t||d,n=n||this.length&&this||[d],"string"==typeof n?n=new p(n,d):n.nodeType&&(n=[n]);var i=t;return"string"==typeof t&&(b.test(t)?i=this.markup(t):(i=[],a(this,n,function(n,e){i=i.concat(y.call(e.querySelectorAll(t)))}))),i&&_.test(i.nodeType)&&(i=[i]),e(i)&&(i=y.call(i)),g.call(this,0,this.length||0),m.apply(this,i),this.context=n,this},is:function(t){var n=new p(t,this.context),e=!1;return this.each(function(t,i){if(n.each(function(t,n){if(i===n)return e=!0,!1}),e)return!1}),e},filter:function(t){var n=new p(t,this.context),e=[];return this.each(function(t,i){n.each(function(t,n){i===n&&e.push(i)})}),new p(e,this.context)},parent:function(t,n){var e,i=[];return arguments.length?(e=new p(t,n),this.each(function(t,n){for(;n.parentNode;)e.each(function(t,e){if(e===n.parentNode)return i.push(e),!1}),n=n.parentNode})):this.each(function(t,n){n.parentNode&&i.push(n.parentNode)}),new p(i)},markup:function(t){var n=d.createElement("template");if(n.content)return n.innerHTML=t,y.call(n.content.childNodes);var e=b.exec(t)[1]||null,i=e&&x.hasOwnProperty(e)&&x[e]||x.defaultt,r=0;for(n=d.createElement("div"),n.innerHTML=i[1]+t+i[2];r<i[0];)n=n.firstChild,r++;return y.call(n.childNodes)},html:function(t){return void 0===t?this.length?this[0].innerHTML:null:this.each(function(n,e){for(;e.firstChild;)e.removeChild(e.firstChild);a(this,this.markup(t),function(t,n){e.appendChild(n)})})},text:function(t){return void 0===t?this.length?this[0].textContent:null:this.each(function(n,e){e.textContent=t})},nv:function(t,n,e){if("object"==typeof t){for(var i in t)e.call(this,i,t[i]);return this}return e.call(this,t,n)},attr:function(t,n){return this.nv(t,n,function(t,n){return void 0===n?this.length&&this[0].getAttribute(t):this.each(function(e,i){return null===n?void i.removeAttribute(t):void i.setAttribute(t,n)})})},prop:function(t,n){return this.nv(t,n,function(t,n){return void 0===n?this.length&&this[0][t]||null:this.each(function(e,i){i[t]=n})})},val:function(t){return void 0===t&&this.length?this[0].value:this.each(function(n,e){e.value=t})},data:function(t,e){return this.nv(t,e,function(t,e){return void 0===e?n(this[0],t):this.each(function(i,r){n(r,t,e)})})},css:function(t,n){return this.nv(t,n,function(t,n){return void 0===n&&this.length?getComputedStyle(this[0]).getPropertyValue(n):this.each(function(e,i){i.style[t]="number"==typeof n&&n+"px"||n})})},hasClass:function(t){var n=!1;return this.each(function(e,i){if(i.classList.contains(t))return n=!0,!1}),n},addClass:function(t){var n=t.split(" ");return a(this,n,function(t,n){this.each(function(t,e){e.classList.add(n)})})},removeClass:function(t){var n=t.split(" ");return a(this,n,function(t,n){this.each(function(t,e){e.classList.remove(n)})})},appendTo:function(t,n){var e=new p(t,n)[0]||null;return e&&this.each(function(t,n){e.appendChild(n)}),this},prependTo:function(t,n){var e=new p(t,n)[0]||null;return e&&this.each(function(t,n){return e.firstChild?void e.insertBefore(n,e.firstChild):void e.appendChild(n)}),this},append:function(t,n){if(this.length){var e=this[this.length-1];new p(t,n).each(function(t,n){e.appendChild(n)})}return this},prepend:function(t,n){if(this.length){var e=this[this.length-1];new p(t,n).each(function(t,n){return e.firstChild?void e.insertBefore(n,e.firstChild):void e.appendChild(n)})}},remove:function(t){var n=this;return arguments.length&&(n=new p(t,this)),n.each(function(t,n){n.parentNode.removeChild(n)}),this},on:function(t,n,e){return e||(e=n,n=null),this.each(function(i,r){h(r,t,"",e,!1,n)})},one:function(t,n,e){return e||(e=n,n=null),this.each(function(i,r){h(r,t,"",e,!0,n)})},off:function(t,n){return this.each(function(e,i){f(i,t,n)})},emit:function(t,n){return this.each(function(e,i){l(i,t,n)})}},p})();return v._$=n,v._uid=s,v._copy=u,v._each=a,v._property=h,v._pushsuper=l,v._popsuper=p,v._transition=c,v._template=d,v._eventEmitter=b,v._device=j,v._keycodes={backspace:8,tab:9,enter:13,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,left:37,right:39,comma:188},v.define=function(t,n){for(var e=v,i=t.split("."),r=0,o=i.length-1;r<o;r++)e.hasOwnProperty(i[r])||(e[i[r]]={}),e=e[i[r]];return e[i[i.length-1]]=n},v.get=function(t){for(var n=null,e=v,i=t.split("."),r=0,o=i.length;r<o;r++)e.hasOwnProperty(i[r])?(n=e[i[r]],e=n):n=null;return n},v.transitions=function(t){return t===!0?v._transition.enabled=!0:t===!1&&(v._transition.enabled=!1),v._transition.enabled},v.create=function(t,n,e){t=t||"",e=e||n||{},n="function"==typeof n&&n.prototype instanceof v&&n||v;var i,r,o=function(){return this._init.apply(this,arguments),this};o.prototype=Object.create(n.prototype);for(i in e)v._property(o.prototype,e,i);if(n!==v)for(r in n)v._property(o,n,r);return o.prototype.constructor=o,o.prototype._super_=n,this.define(t,o)},v.prototype={name:"",constructor:v,templates:{},formats:{},config:null,events:null,root:null,get _pushsuper_(){return v._pushsuper},get _popsuper_(){return v._popsuper},get super(){var t,n=this._stack_[this._stack_.length-1];return n&&(t=n.super&&n.super.prototype&&n.super.prototype[n.method]),t},get keycode(){return v._keycodes},get transitions(){return v._transition.enabled},get version(){return"v1.0.0"},get element(){return this.root[0]},get device(){return v._device},$:function(t,n){return new v._$(t,n)},uid:function(){return v._uid()},copy:function(t){return v._copy(t)},template:function(t,n){return v._template(t,this.name,this.config.templates,n)},format:function(t,n){return v._template(t,this.name,this.config.formats,n)},html:function(t,n){return this.$(this.template(t,n))},each:function(t,n){return v._each(this,t,n)},node:function(t,n){return this.$(this.selector(t),n||this.root||null)},selector:function(t){return"."+this.name+(t&&"-"+t||"")},transition:function(t,n){var e=this.$(t),i=v._transition(),r=this;return n=n||function(){},i?(e.addClass("transition"),e.one(i,function(t){var e=r.$(this);n.call(r,t,e),e.removeClass("transition")}),this):(e.removeClass("transition"),this.each(e,function(t,e){setTimeout(function(){n.call(r,{},r.$(e))},1)}))},clearTransitions:function(t){var n=this.$(t),e=v._transition();return e&&n.off(e),this},delay:function(t,n){var e=this;return setTimeout(function(){t.call(e)},n||1)},on:function(t,n){return v._eventEmitter.on(this.events,t,n,this),this},one:function(t,n){return v._eventEmitter.one(this.events,t,n,this),this},off:function(t,n){return v._eventEmitter.off(this.events,t,n),this},emit:function(t){return v._eventEmitter.emit(this.events,arguments),this},_init:function(t,n){this._define(t,n),this._build(),this._bind()},_define:function(t,n){return this.root=this.$(t),this.events={},this.config={templates:{},formats:{}},this.each(this.formats,function(t,n){this.config.formats[t]=n}),this.each(this.templates,function(t,n){this.config.templates[t]=n}),this._config(n),this},_config:function(t){return t=t||{},this.each(t,function(t,n){var e=!1;"object"==typeof n&&this.config.hasOwnProperty(t)&&this.each(n,function(n,i){this.config[t][n]=i,e=!0}),e===!1&&(this.config[t]=n)}),this},_param:function(t,n,e,i,r){var o,s;if(e.hasOwnProperty(t)&&(o=e[t]),"undefined"==typeof o&&"undefined"!==n&&(o=(r||this.root).data(t)),s=typeof o,s!==n)switch(s){case"boolean":o="true"===o||"false";break;case"number":o=parseFloat(o,10);break;case"string":o=o.toString();case"undefined":o=i;break;case"object":o=null===o?i:o}return e[t]=o,this},_build:function(){},_bind:function(){}},v});