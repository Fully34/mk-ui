!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(n){return t.Mk=e(t,n)}):"object"==typeof module&&module.exports?module.exports=t.document?e(t,require("jquery")):function(t){if(!t.document)throw new Error("Mk requires a window with a document");return e(t,require("jquery"))}:t.Mk=e(t,t.jQuery)}("undefined"!=typeof window?window:this,function(t,e){function n(){}function i(t,e){return this.find(t,e)}var r=function(){},o={}.hasOwnProperty,s=void 0;n.noop=function(){},n.uid=function(){return"xxxx-4xxx-yxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)})},n.type=function(t,e){var i=n.typemap;return i.hasOwnProperty(e)&&i[e](t)||!1},n.typemap={s:function(t){return"string"==typeof t},u:function(t){return void 0===t},f:function(t){return"function"==typeof t},n:function(t){return"number"==typeof t},a:function(t){return t instanceof Array},o:function(t){if(!t||"[object object]"!==t.toString().toLowerCase())return!1;var e=Object.getPrototypeOf(t),n=e.hasOwnProperty("constructor")&&e.constructor,i={}.hasOwnProperty.toString,r=i.call(Object);return!e||this.f(n)&&i.call(n)===r},c:function(t){return!!this.f(t)&&Object.keys(t).concat(Object.keys(t.prototype)).length>0},nl:function(t){return t instanceof NodeList},nd:function(t){return t&&1===t.nodeType||!1},al:function(e){if(this.f(e)||this.s(e)||e===t)return!1;var n=!!e&&this.n(e.length)&&"length"in e&&e.length;return this.a(e)||this.nl(e)||0===n||this.n(n)&&n>0&&n-1 in e},bf:function(t){return this.f(t)&&!this.c(t)}},n.copy=function(t){var e,i,r;if(n.type(t,"al"))for(e=0,i=t.length,r=[];e<i&&r.push(n.copy(t[e]));e++);else if(n.type(t,"o")){r={};for(e in t)r[e]=n.copy(t[e]),i=!0}return r||t},n.each=function(t,e,i){var r,o,s=0;if(n.type(e,"al"))for(r=e.length;s<r&&(o=i.call(t,s,e[s]),o!==!1);s++)o===-1&&(e.splice(s,1),s--,r--);else for(s in e){if(o=i.call(t,s,e[s]),o===!1)break;o===-1&&delete e[s]}return t},n.property=function(t,e,i){var r,o,s=Object.getOwnPropertyDescriptor(e,i);return n.type(s.get,"u")?(r=e[i],n.type(r,"bf")?(o=n.wrapFunction(r,i),void Object.defineProperty(t,i,{get:function(){return o},set:function(t){var e=t;MK.type(t,"bf")&&(e=wrapFunction(t)),o=e}})):t[i]=n.copy(r)):Object.defineProperty(t,i,s)},n.wrapFunction=function(t,e){if(t._id_)return t;var i=function(){this._pushsuper_(e);var n=t.apply(this,arguments);return this._popsuper_(e),n};return i._id_=n.uid(),i.toString=function(){return t.toString()},i},n.pushSuper=function(t){var e=this._chain_=this._chain_||[],n=this._stack_=this._stack_||[],i=e.lastIndexOf(t),r=this._super_,o=r&&r.prototype||{},s=this[t];for(i>-1&&(r=n[i].super.prototype._super_||null,o=r&&r.prototype||{});null!==r&&o.hasOwnProperty(t)&&o[t]._id_===s._id_;)r=o._super_||null,o=r&&r.prototype||{};n.push({method:t,super:r}),e.push(t)},n.popSuper=function(t){var e=this._chain_=this._chain_||[],n=this._stack_=this._stack_||[],i=e.lastIndexOf(t);i>-1&&(e.splice(i,1),n.splice(i,1))};var a=/{{([^{]+)}}/g,u=/{{([^}]+)}}(.*)({{\/\1}})/g,c=/[\r|\t|\n]+/g;n.template=function(t,e,i,r){t=t||"",i=i||{},r=r||{},r.$key=e;var o=n.template.get(t,i);return o=o.replace(c,""),o=o.replace(u,function(t,o,s){return n.template.statements(t,e,o,s,i,r)}),o=o.replace(a,function(t,o){return n.template.inject(t,e,o,i,r)})},n.template.get=function(t,e){var n=t;return e&&e.hasOwnProperty(t)&&(n=e[t]),n instanceof Array&&(n=n.join("")),n},n.template.statements=function(t,e,i,r,s,a){var u=i.split(":"),c=u[0],h=u[1];return o.call(n.template.map,c)?n.template.map[c](r,e,s,"if"==c?a:a[h]||a,h):""},n.template.inject=function(t,e,i,r,s){var a=i.split(":"),u=a[0],c=a[1];return c&&o.call(n.template.map,u)?n.template.map[u](c,e,r,s,c):o.call(s,u)&&!n.type(s[u],"u")&&null!==s[u]?s[u]:""},n.template.markup={highlight:['<span class="highlight">',"$1","</span>"],error:['<span class="error">',"{{template}} not found","</span>"]},n.template.map={loop:function(t,e,i,r,o){var s,a,u,c,h,l=[];if(n.type(r,"n")||(a=parseInt(o,10))>-1)for(s=0;s<(a||r);s++)r.$index=s,l.push(n.template(t,e,i,r));else if(r instanceof Array)for(s=0,u=r.length;s<u;s++)c=r[s],"object"!=typeof c&&(c={key:"",value:r[s]}),c.$index=s,l.push(n.template(t,e,i,c));else for(s in r)h=h||0,l.push(n.template(t,e,i,{key:s,value:r[s],$index:h++}));return l.join("")},if:function(t,e,i,r,s){if(o.call(r,s)){var a=r[s];if(void 0!==a&&null!==a&&""!==a&&a!==!1||a instanceof Array&&a.length>0)return n.template(t,e,i,r)}return""},highlight:function(t,e,i,r,o){var s,a=r.highlight||"",u=r[t];return a&&(s=n.template.get("highlight",n.template.markup),u=u.replace(new RegExp("("+a+")","gi"),s)),u},scope:function(t,e,i,r,o){return n.template(t,e,i,r)},template:function(t,e,i,r,o){return n.template(t,e,i,r)}},n.eventEmitter={xname:/^(\w+)\.?/,xns:/^\w+(\.?.*)$/,_add:function(t,e,i,r,o){var s=this.e(e);t.hasOwnProperty(s.name)!==!0&&(t[s.name]=[]),t[s.name].push({ns:s.ns||void 0,handler:i||n.noop,context:r||null,single:o===!0})},e:function(t){return{name:this.xname.exec(t)[1]||"",ns:(this.xns.exec(t)||[])[1]||void 0}},args:function(t){for(var e=0,n=[],i=t.length;e<i&&n.push(t[e]);e++);return n},on:function(t,e,n,i){return this._add(t,e,n,i,!1)},one:function(t,e,n,i){return this._add(t,e,n,i,!0)},off:function(t,e,i){var r,a,u,c,h=this.e(e),l=0;if(o.call(t,h.name))for(r=t[h.name],u=h.ns||s,c=r.length;l<c;l++)a=r[l],a.ns!==u||!n.type(i,"u")&&i!==a.handler||(r.splice(l,1),c=r.length,l--)},emit:function(e,n){var i,r,s,a=this.args(n),u=a.shift(),c=this.e(u),h=0;if(o.call(e,c.name))for(i=e[c.name],s=i.length;h<s;h++)r=i[h],c.ns&&r.ns!==c.ns||(r.handler.apply(r.context||t,a),r.single&&(i.splice(h,1),s--,h--))}},n.transition=function(){var t=n.transition;if(t.enabled){if(t.key)return t.key;var e,i=document.createElement("xanimate");for(e in t.keys)if("undefined"!=typeof i.style[e])return t.key=t.keys[e]}return null},n.transition.enabled=!1,n.transition.key=null,n.transition.keys={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};var h=navigator.userAgent;n.device={agentexp:/(android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini)/i,get is(){return this.agentexp.test(h)},get isAndroid(){return"android"===this.id},get isWebos(){return"webos"===this.id},get isiPhone(){return"iphone"===this.id},get isiPad(){return"ipad"===this.id},get isiPod(){return"ipod"===this.id},get isBlackberry(){return"blackberry"===this.id},get isIEMobile(){return"iemobile"===this.id},get isOperaMini(){return"opera mini"===this.id},get id(){return((this.agentexp.exec(h)||[])[1]||"").toLowerCase()}};var l=document,f={},p=[].slice,d=[].splice,m=[].push,v=/^\s*<([^>\s]+)/,y=/1|9|11/,g={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],li:[1,"<ul>","</ul>"],dd:[1,"<dl>","</dl>"],defaultt:[0,"",""]};return g.caption=g.thead,g.optgroup=g.option,g.tbody=g.thead,g.tfoot=g.thead,g.dt=g.dd,i.data=function(t,e,i){if(t){var r=t._id=t._id||n.uid(),o=f[r]||{},a=i;return null===e?(t._id=null,delete f[r],o):(a===s?(a=o[e]||t.getAttribute("data-"+e)||null,o[e]=a):null===i?(a=o[e],delete o[e]):o[e]=a,f[r]=o,a)}},i.remove=function(t){var e;n.each(this,t.childNodes,function(t,e){e&&1===e.nodeType&&remove(e)});var e=data(t,null);e&&e.events&&n.each(this,e.events,function(e,n){off(t,e)}),t.parentNode.removeChild(t)},i.ajax=function(t){return new this.xhr(t)},i.xhr=function(t){this.init(t)},i.xhr.prototype={headers:{"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*"},xhr:null,open:!1,options:null,url:function(t){t=t||location.href;var e=t.lastIndexOf("/");return e>-1&&(e=t.indexOf("#"))>-1&&(t=t.substr(0,e)),t},qs:function(t){if(t=t||"",!n.type(t,"s")){var e=[];return n.each(this,t,function(t,n){e.push(t+"="+encodeURIComponent(n))}),e.join("&")}return t},init:function(t){return t=n.copy(t||{}),t.url=this.url(t.url),t.data=this.qs(t.data),t.method=(t.method||"GET").toUpperCase(),t.type=t.type||"text",t.headers=t.headers||{},t.async=t.async||!0,t.encode=t.encode||!0,t.encoding=t.encoding||"utf-8",t.user=t.user||"",t.password=t.password||"",t.complete=t.complete||r,t.success=t.success||r,t.error=t.error||r,t.data&&"GET"===t.method&&(t.url=t.url.indexOf("?")>-1&&t.url||t.url+"?",t.url+=t.data,t.data=null),n.each(this,this.headers,function(e,n){o.call(t.headers,e)!==!0&&(t.headers[e]=n)}),t.encode&&["POST","PUT"].indexOf(t.type)>-1&&(t.headers["Content-type"]="application/x-www-form-urlencoded"+t.encoding),this.options=t,t.now!==!1&&this.send(),this},jsonp:function(){if(this.open)return this;var e=this,i=e.options,r=l.createElement("script"),o=i.jsonpid="MKUI"+n.uid().split("-").join(""),s="callback="+o;r.type="text/javascript",r.language="javascript",r.async=i.async,r.src=i.url+(i.url.indexOf("?")>-1&&"&"||"?")+s,r.id=i.scriptid=n.uid(),r.onerror=function(){i.error.call(e)},r.onload=function(){i.complete.call(e)};var a=function(n){e.response=n,e.status=200,r.onload=null,r.onerror=null,r.parentNode.removeChild(r),i.success.call(e,n),delete t[o]};return t[o]=a,l.documentElement.firstChild.appendChild(r),this.open=!0,this.status=0,this},send:function(){if(this.open)return this;var t,e=this,i=e.options;return"jsonp"===i.type?this.jsonp():(t=this.xhr=new XMLHttpRequest,t.open(i.method,i.url,i.async,i.user,i.password),t.onreadystatechange=function(){e.stateChange()},i.user&&"withCredentials"in t&&(t.withCredentials=!0),n.each(this,i.headers,function(e,n){t.setRequestHeader(e,n)}),i.type&&"text"!==i.type&&(t.responseType=i.type),e.open=!0,e.status=0,t.send(i.data),i.async!==!0&&this.stateChange(),this)},abort:function(){if(this.open=!1,this.status=0,this.xhr)return this.xhr.abort(),this.xhr.onreadystatechange=null,this.xhr=null,this;var e=this,n=e.options,i=l.getElementById(n.scriptid),r=n.jsonpid;return i&&i.parentNode.removeChild(i),t[r]=function(){delete t[r]},t[r](),this},stateChange:function(){var t=this.xhr,e=this,n=e.options;4===t.readyState&&(n.complete.call(e,t),e.status=t.status,e.statusText=t.statusText,1223===e.status&&(e.status=204,e.statusText="No Content"),e.open=!1,e.response=t.response||null,""!==t.responseType&&"text"!==t.responseType||(e.response=t.responseText),t.onreadystatechange=function(){},e.status>=200&&e.status<300?n.success.call(e,e.response,t):n.error.call(e,t))}},i.delegate=function(t,e,n){var r={s:!1,t:t};return n?new i(n,t).each(function(t,n){if(e===n||new i(e).parent(n).length)return r.s=!0,r.t=n,!1}):r.s=!0,r},i.event=function(t,e,r,o,s,a,u){var c,h;return e?(c=function(e){var n,c=!1,h=i.delegate(this,e.target,u);return e.ns?e.ns===o&&h.s&&(n=s.apply(h.t,[e].concat(e.data)),c=!0):h.s&&(n=s.call(h.t,e),c=!0),c&&a&&i.event(t,!1,r,o,s,a,u),n},h=i.data(t,"events")||{},h[r]=h[r]||[],h[r].push({type:r,ns:o,original:s,handler:c,delegate:u}),i.data(t,"events",h),void t.addEventListener(r,c,!1)):(h=(i.data(t,"events")||{})[r]||[],void n.each(this,h,function(e,n){if((!o||o&&n.ns===o)&&(!s||s===n.original))return t.removeEventListener(r,n.handler),-1}))},i.on=function(t,e,n,r,o,s){var a=e.split("."),u=a.shift();i.event(t,!0,u,a.join("."),r,o,s)},i.off=function(t,e,n){var r=e.split("."),o=r.shift();i.event(t,!1,o,r.join("."),n)},i.emit=function(t,e,n){var i=e.split("."),r=i.shift(),o=new Event(r);o.ns=i.join("."),o.data=n||[],t.dispatchEvent(o)},i.prototype={length:0,context:null,constructor:i,each:function(t){return n.each(this,this,t)},find:function(t,e){t=t||l,e=e||this.length&&this||[l],n.type(e,"s")?e=new i(e,l):e.nodeType&&(e=[e]);var r=t;return n.type(t,"s")&&(v.test(t)?r=this.markup(t):(r=[],n.each(this,e,function(e,n){r=r.concat(p.call(n.querySelectorAll(t)))}))),r&&y.test(r.nodeType)&&(r=[r]),n.type(r,"al")&&(r=p.call(r)),d.call(this,0,this.length||0),m.apply(this,r),this.context=e,this},is:function(t){var e=new i(t,this.context),n=!1;return this.each(function(t,i){if(e.each(function(t,e){if(i===e)return n=!0,!1}),n)return!1}),n},filter:function(t){var e=new i(t,this.context),n=[];return this.each(function(t,i){e.each(function(t,e){i===e&&n.push(i)})}),new i(n,this.context)},parent:function(t,e){var n,r=[];return arguments.length?(n=new i(t,e),this.each(function(t,e){for(;e.parentNode;)n.each(function(t,n){if(n===e.parentNode)return r.indexOf(n)<0&&r.push(n),!1}),e=e.parentNode})):this.each(function(t,e){e.parentNode&&r.push(e.parentNode)}),new i(r)},markup:function(t){var e=l.createElement("template");if(e.content)return e.innerHTML=t,p.call(e.content.childNodes);var n=v.exec(t)[1]||null,i=n&&g.hasOwnProperty(n)&&g[n]||g.defaultt,r=0;for(e=l.createElement("div"),e.innerHTML=i[1]+t+i[2];r<i[0];)e=e.firstChild,r++;return p.call(e.childNodes)},html:function(t){return t===s?this.length?this[0].innerHTML:null:this.each(function(e,i){for(;i.firstChild;)remove(i.firstChild);n.each(this,this.markup(t),function(t,e){i.appendChild(e)})})},text:function(t){return t===s?this.length?this[0].textContent:null:this.each(function(e,n){n.textContent=t})},nv:function(t,e,n){if("object"==typeof t){for(var i in t)n.call(this,i,t[i]);return this}return n.call(this,t,e)},attr:function(t,e){return this.nv(t,e,function(t,e){return e===s?this.length&&this[0].getAttribute(t):this.each(function(n,i){return null===e?void i.removeAttribute(t):void i.setAttribute(t,e)})})},prop:function(t,e){return this.nv(t,e,function(t,e){return e===s?this.length&&this[0][t]||null:this.each(function(n,i){i[t]=e})})},val:function(t){return t===s&&this.length?this[0].value:this.each(function(e,n){n.value=t})},data:function(t,e){return this.nv(t,e,function(t,e){return e===s?i.data(this[0],t):this.each(function(n,r){i.data(r,t,e)})})},css:function(t,e){return this.nv(t,e,function(t,e){return e===s&&this.length?getComputedStyle(this[0]).getPropertyValue(e):this.each(function(i,r){r.style[t]=n.type(e,"n")&&e+"px"||e})})},hasClass:function(t){var e=!1;return this.each(function(n,i){if(i.classList.contains(t))return e=!0,!1}),e},addClass:function(t){var e=t.split(" ");return n.each(this,e,function(t,e){this.each(function(t,n){n.classList.add(e)})})},removeClass:function(t){var e=t.split(" ");return n.each(this,e,function(t,e){this.each(function(t,n){n.classList.remove(e)})})},appendTo:function(t,e){var n=new i(t,e)[0]||null;return n&&this.each(function(t,e){n.appendChild(e)}),this},prependTo:function(t,e){var n=new i(t,e)[0]||null;return n&&this.each(function(t,e){return n.firstChild?void n.insertBefore(e,n.firstChild):void n.appendChild(e)}),this},append:function(t,e){if(this.length){var n=this[this.length-1];new i(t,e).each(function(t,e){n.appendChild(e)})}return this},prepend:function(t,e){if(this.length){var n=this[this.length-1];new i(t,e).each(function(t,e){return n.firstChild?void n.insertBefore(e,n.firstChild):void n.appendChild(e)})}return this},remove:function(t){var e=this;return arguments.length&&(e=new i(t,this)),e.each(function(t,e){remove(e)}),this},on:function(t,e,n){return n||(n=e,e=null),this.each(function(r,o){i.on(o,t,"",n,!1,e)})},one:function(t,e,n){return n||(n=e,e=null),this.each(function(r,o){i.on(o,t,"",n,!0,e)})},off:function(t,e){return this.each(function(n,r){i.off(r,t,e)})},emit:function(t,e){return this.each(function(n,r){i.emit(r,t,e)})}},n.$=function(t,e){return new i(t,e)},n.define=function(t,e){for(var i=n,r=t.split("."),s=0,a=r.length-1;s<a;s++)o.call(i,r[s])&&(i[r[s]]={}),i=i[r[s]];return i[r[r.length-1]]=e},n.get=function(t){for(var e=null,i=n,r=t.split("."),s=0,a=r.length;s<a;s++)o.call(i,r[s])?(e=i[r[s]],i=e):e=null;return e},n.transitions=function(t){return t===!0?n.transition.enabled=!0:t===!1&&(n.transition.enabled=!1),n.transition.enabled},n.create=function(t,e,i){t=t||"",i=i||e||{},e="function"==typeof e&&e.prototype instanceof n&&e||n;var r,o,s=function(){return this._init.apply(this,arguments),this};s.prototype=Object.create(e.prototype);for(r in i)n.property(s.prototype,i,r);if(e!==n)for(o in e)n.property(s,e,o);return s.prototype.constructor=s,s.prototype._super_=e,this.define(t,s)},n.prototype={name:"",constructor:n,templates:{},formats:{},config:null,events:null,root:null,get _pushsuper_(){return n.pushSuper},get _popsuper_(){return n.popSuper},get super(){var t,e=this._stack_[this._stack_.length-1];return e&&(t=e.super&&e.super.prototype&&e.super.prototype[e.method]),t},get keycode(){return n.keycodes},get transitions(){return n.transition.enabled},get version(){return"v1.0.0"},get element(){return this.root[0]},get device(){return n.device},$:function(t,e){return new n.$(t,e)},uid:function(){return n.uid()},copy:function(t){return n.copy(t)},template:function(t,e){return n.template(t,this.name,this.config.templates,e)},format:function(t,e){return n.template(t,this.name,this.config.formats,e)},html:function(t,e){return this.$(this.template(t,e))},each:function(t,e){return n.each(this,t,e)},node:function(t,e){return this.$(this.selector(t),e||this.root||null)},selector:function(t){return"."+this.name+(t&&"-"+t||"")},transition:function(t,e){var i=this.$(t),r=n.transition(),o=this;return e=e||function(){},r?(i.addClass("transition"),i.one(r,function(t){i.removeClass("transition"),e.call(o,t,i)}),this):(i.removeClass("transition"),this.each(i,function(t,n){setTimeout(function(){e.call(o,{},o.$(n))},1)}))},clearTransitions:function(t){var e=n.transition();return e&&this.$(t).off(e),this},transitioning:function(t){return this.$(t).hasClass("transition")},delay:function(t,e){var n=this;return setTimeout(function(){t.call(n)},e||1)},on:function(t,e){return n.eventEmitter.on(this.events,t,e,this),this},one:function(t,e){return n.eventEmitter.one(this.events,t,e,this),this},off:function(t,e){return n.eventEmitter.off(this.events,t,e),this},emit:function(t){return n.eventEmitter.emit(this.events,arguments),this},_init:function(t,e){this._define(t,e),this._build(),this._bind()},_define:function(t,e){return this.root=this.$(t),this.events={},this.config={templates:{},formats:{}},this.each(this.formats,function(t,e){this.config.formats[t]=e}),this.each(this.templates,function(t,e){this.config.templates[t]=e}),this._config(e),this},_config:function(t){return t=t||{},this.each(t,function(t,e){var n=!1;"object"==typeof e&&this.config.hasOwnProperty(t)&&this.each(e,function(e,i){this.config[t][e]=i,n=!0}),n===!1&&(this.config[t]=e)}),this},_param:function(t,e,n,i,r){var o,s;if(n.hasOwnProperty(t)&&(o=n[t]),"undefined"==typeof o&&"undefined"!==e&&(o=(r||this.root).data(t)),s=typeof o,s!==e)switch(s){case"boolean":o="true"===o||"false";break;case"number":o=parseFloat(o,10);break;case"string":o=o.toString();case"undefined":o=i;break;case"object":o=null===o?i:o}return n[t]=o,this},_build:function(){},_bind:function(){}},n});