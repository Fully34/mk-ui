!function(t,n){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t.Mk=n(t,e)}):"object"==typeof module&&module.exports?module.exports=t.document?n(t,require("jquery")):function(t){if(!t.document)throw new Error("Mk requires a window with a document");return n(t,require("jquery"))}:t.Mk=n(t,t.jQuery)}("undefined"!=typeof window?window:this,function(t,n){function e(n){var e=!!n&&"number"==typeof n.length&&"length"in n&&n.length;return"function"!=typeof n&&n!==t&&(n instanceof Array||n instanceof NodeList||0===e||"number"==typeof e&&e>0&&e-1 in n)}function r(t){if(!t||"[object object]"!==t.toString().toLowerCase())return!1;var n=Object.getPrototypeOf(t),e=n.hasOwnProperty("constructor")&&n.constructor,r={}.hasOwnProperty.toString,i=r.call(Object);return!n||"function"==typeof e&&r.call(e)===i}function i(t){if("function"!=typeof t)return!1;var n=Object.keys(t).concat(Object.keys(t.prototype));return n.length<1}function o(){return"xxxx-4xxx-yxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0,e="x"==t?n:3&n|8;return e.toString(16)})}function s(t){var n,e,i;if(t instanceof Array)for(n=0,e=t.length,i=[];n<e&&i.push(s(t[n]));n++);else if(r(t)){i={};for(n in t)i[n]=s(t[n]),e=!0}return i||t}function u(t,n,r){var i,o,s=0;if(e(n))for(i=n.length;s<i&&(o=r.call(t,s,n[s])!==!1);s++)o===-1&&(n.splice(s,1),s--,i--);else for(s in n)if(r.call(t,s,n[s])===!1)break;return t}function a(){if(a.enabled){if(a.key)return a.key;var t,n=document.createElement("xanimate");for(t in a.keys)if("undefined"!=typeof n.style[t])return a.key=a.keys[t]}return null}function c(t,n,e){var r,o,u=Object.getOwnPropertyDescriptor(n,e);return"undefined"!=typeof u.get?Object.defineProperty(t,e,u):(r=n[e],i(r)?(o=f(r,e),void Object.defineProperty(t,e,{get:function(){return o},set:function(t){var n=t;i(t)&&(n=f(t)),o=n}})):t[e]=s(r))}function f(t,n){if(t._id_)return t;var e=function(){this._pushsuper_(n);var e=t.apply(this,arguments);return this._popsuper_(n),e};return e._id_=o(),e.toString=function(){return t.toString()},e}function p(t){var n=this._chain_=this._chain_||[],e=this._stack_=this._stack_||[],r=n.lastIndexOf(t),i=this._super_,o=i&&i.prototype||{},s=this[t];for(r>-1&&(i=e[r].super.prototype._super_||null,o=i&&i.prototype||{});null!==i&&o.hasOwnProperty(t)&&o[t]._id_===s._id_;)i=o._super_||null,o=i&&i.prototype||{};e.push({method:t,super:i}),n.push(t)}function h(t){var n=this._chain_=this._chain_||[],e=this._stack_=this._stack_||[],r=n.lastIndexOf(t);r>-1&&(n.splice(r,1),e.splice(r,1))}function l(t,n,e,r){t=t||"",e=e||{},r=r||{},r.$key=n;var i=l.get(t,e);return i=i.replace(g,""),i=i.replace(y,function(t,i,o){return l.statements(t,n,i,o,e,r)}),i=i.replace(_,function(t,i){return l.inject(t,n,i,e,r)})}function d(){}a.enabled=!1,a.key=null,a.keys={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};var _=/{{([^{]+)}}/g,y=/{{([^}]+)}}(.*)({{\/\1}})/g,g=/[\r|\t|\n]+/g;l.get=function(t,n){var e=t;return n&&n.hasOwnProperty(t)&&(e=n[t]),e instanceof Array&&(e=e.join("")),e},l.statements=function(t,n,e,r,i,o){var s=e.split(":"),u=s[0],a=s[1];return l.map.hasOwnProperty(u)?l.map[u](r,n,i,"if"==u?o:o[a]||o,a):""},l.inject=function(t,n,e,r,i){var o=e.split(":"),s=o[0],u=o[1];return u&&l.map.hasOwnProperty(s)?l.map[s](u,n,r,i,u):i.hasOwnProperty(s)&&"undefined"!=typeof i[s]&&null!==i[s]?i[s]:""},l.markup={highlight:['<span class="highlight">',"$1","</span>"],error:['<span class="error">',"{{template}} not found","</span>"]},l.map={loop:function(t,n,e,r,i){var o,s,u,a,c,f=[];if("number"==typeof r||(s=parseInt(i,10))>-1)for(o=0;o<(s||r);o++)r.$index=o,f.push(l(t,n,e,r));else if(r instanceof Array)for(o=0,u=r.length;o<u;o++)a=r[o],"object"!=typeof a&&(a={key:"",value:r[o]}),a.$index=o,f.push(l(t,n,e,a));else for(o in r)c=c||0,f.push(l(t,n,e,{key:o,value:r[o],$index:c++}));return f.join("")},if:function(t,n,e,r,i){if(r.hasOwnProperty(i)){var o=r[i];if(void 0!==o&&null!==o&&""!==o&&o!==!1||o instanceof Array&&o.length>0)return l(t,n,e,r)}return""},highlight:function(t,n,e,r,i){var o,s=r.highlight||"",u=r[t];return s&&(o=l.get("highlight",l.markup),u=u.replace(new RegExp("("+s+")","gi"),o)),u},scope:function(t,n,e,r,i){return l(t,n,e,r)},template:function(t,n,e,r,i){return l(t,n,e,r)}};var m={xname:/^(\w+)\.?/,xns:/^\w+(\.?.*)$/,_add:function(t,n,e,r,i){var o=this.e(n);t.hasOwnProperty(o.name)!==!0&&(t[o.name]=[]),t[o.name].push({ns:o.ns||void 0,handler:e||function(){},context:r||null,single:i===!0})},e:function(t){return{name:this.xname.exec(t)[1]||"",ns:(this.xns.exec(t)||[])[1]||void 0}},args:function(t){for(var n=0,e=[],r=t.length;n<r&&e.push(t[n]);n++);return e},on:function(t,n,e,r){return this._add(t,n,e,r,!1)},one:function(t,n,e,r){return this._add(t,n,e,r,!0)},off:function(t,n,e){var r,i,o,s=this.e(n);if(t.hasOwnProperty(s.name)){r=t[s.name],o=s.ns||void 0;for(var u=0,a=r.length;u<a;u++)i=r[u],i.ns!==o||"undefined"!=typeof e&&e!==i.handler||(r.splice(u,1),a=r.length,u--)}},emit:function(n,e){var r,i,o=this.args(e),s=o.shift(),u=this.e(s);if(n.hasOwnProperty(u.name)){r=n[u.name];for(var a=0,c=r.length;a<c;a++)i=r[a],u.ns&&i.ns!==u.ns||(i.handler.apply(i.context||t,o),i.single&&(r.splice(a,1),c=r.length,a--))}}},b=navigator.userAgent,v={agentexp:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i,get is(){return this.agentexp.test(b)},get id(){return(this.agentexp.exec(b)||[])[1]||""}};return d._$=n,d._uid=o,d._copy=s,d._each=u,d._property=c,d._pushsuper=p,d._popsuper=h,d._transition=a,d._template=l,d._eventEmitter=m,d._device=v,d._keycodes={backspace:8,tab:9,enter:13,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,left:37,right:39,comma:188},d.define=function(t,n){for(var e=d,r=t.split("."),i=0,o=r.length-1;i<o;i++)e.hasOwnProperty(r[i])||(e[r[i]]={}),e=e[r[i]];return e[r[r.length-1]]=n},d.get=function(t){for(var n=null,e=d,r=t.split("."),i=0,o=r.length;i<o;i++)e.hasOwnProperty(r[i])?(n=e[r[i]],e=n):n=null;return n},d.transitions=function(t){return t===!0?d._transition.enabled=!0:t===!1&&(d._transition.enabled=!1),d._transition.enabled},d.create=function(t,n,e){t=t||"",e=e||n||{},n="function"==typeof n&&n.prototype instanceof d&&n||d;var r,i,o=function(){return this._init.apply(this,arguments),this};o.prototype=Object.create(n.prototype);for(r in e)d._property(o.prototype,e,r);if(n!==d)for(i in n)d._property(o,n,i);return o.prototype.constructor=o,o.prototype._super_=n,this.define(t,o)},d.prototype={name:"",constructor:d,templates:{},formats:{},config:null,events:null,root:null,get _pushsuper_(){return d._pushsuper},get _popsuper_(){return d._popsuper},get super(){var t,n=this._stack_[this._stack_.length-1];return n&&(t=n.super&&n.super.prototype&&n.super.prototype[n.method]),t},get keycode(){return d._keycodes},get transitions(){return d._transition.enabled},get version(){return"v1.0.0"},get element(){return this.root[0]},get device(){return d._device.is},get deviceId(){return d._device.id},$:function(t,n){return d._$(t,n)},uid:function(){return d._uid()},copy:function(t){return d._copy(t)},template:function(t,n){return d._template(t,this.name,this.config.templates,n)},format:function(t,n){return d._template(t,this.name,this.config.formats,n)},html:function(t,n){return this.$(this.template(t,n))},each:function(t,n){return d._each(this,t,n)},node:function(t,n){return this.$(this.selector(t),n||this.root||null)},selector:function(t){return"."+this.name+(t&&"-"+t||"")},transition:function(t,n){var e=this.$(t),r=d._transition(),i=this;return n=n||function(){},r?(e.addClass("transition"),e.one(r,function(t){var e=i.$(this);n.call(i,t,e),e.removeClass("transition")}),this):(e.removeClass("transition"),this.each(e,function(t,e){setTimeout(function(){n.call(i,{},i.$(e))},1)}))},clearTransitions:function(t){var n=this.$(t),e=d._transition();return e&&n.off(e),this},delay:function(t,n){var e=this;return setTimeout(function(){t.call(e)},n||1)},on:function(t,n){return d._eventEmitter.on(this.events,t,n,this),this},one:function(t,n){return d._eventEmitter.one(this.events,t,n,this),this},off:function(t,n){return d._eventEmitter.off(this.events,t,n),this},emit:function(t){return d._eventEmitter.emit(this.events,arguments),this},_init:function(t,n){this._define(t,n),this._build(),this._bind()},_define:function(t,n){return this.root=this.$(t),this.events={},this.config={templates:{},formats:{}},this.each(this.formats,function(t,n){this.config.formats[t]=n}),this.each(this.templates,function(t,n){this.config.templates[t]=n}),this._config(n),this},_config:function(t){return t=t||{},this.each(t,function(t,n){var e=!1;"object"==typeof n&&this.config.hasOwnProperty(t)&&this.each(n,function(n,r){this.config[t][n]=r,e=!0}),e===!1&&(this.config[t]=n)}),this},_param:function(t,n,e,r,i){var o,s;if(e.hasOwnProperty(t)&&(o=e[t]),"undefined"==typeof o&&"undefined"!==n&&(o=(i||this.root).data(t)),s=typeof o,s!==n)switch(s){case"boolean":o="true"===o||"false";break;case"number":o=parseFloat(o,10);break;case"string":o=o.toString();case"undefined":o=r;break;case"object":o=null===o?r:o}return e[t]=o,this},_build:function(){},_bind:function(){}},d});