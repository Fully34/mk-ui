!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(n){return t.Mk=e(t,n)}):"object"==typeof module&&module.exports?module.exports=t.document?e(t,require("jquery")):function(t){if(!t.document)throw new Error("Mk[ui] requires a window with a document");return e(t,require("jquery"))}:t.Mk=e(t,window.jQuery)}("undefined"!=typeof window&&window||this,function(t,e){"use strict";function n(t,e){return this.find(t,e)}var i={}.hasOwnProperty,r=function(){};return r.fn={},r.fn.uid=function(){return"mkxxx4xxyxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t&&e||3&e|8;return n.toString(16)})},r.type=function(t,e){for(var n,o,a=e.toLowerCase().split("|"),u=a.length,c=r.fn.typemap,s=0;s<u;s++)if(o=a[s],(n=i.call(c,o)?c[o]:c.defaultt)(t,o))return!0;return!1},r.fn.typemap={index:function(t,e){return t.indexOf(e)>-1},array:function(t){return t instanceof Array},empty:function(t){return""===t||null===t||void 0===t||t===!1},null:function(t){return null===t},date:function(t){return t instanceof Date||t===Date},nodelist:function(t){return t instanceof NodeList},node:function(t){return/1|9|11/.test(t&&t.nodeType||0)},window:function(t){return t&&t===t.window},function:function(t){return"function"==typeof t&&!r.fn.typemap.classlike(t)},arraylike:function(t){if(r.type(t,"function|string|window"))return!1;var e=!!t&&"number"==typeof t.length,n=e&&"length"in t&&t.length;return r.type(t,"array|nodelist")||0===n||e&&n>0&&n-1 in t},instance:function(t){var e=Object.getPrototypeOf(t),n=e&&e.hasOwnProperty("constructor")&&e.constructor,i={}.hasOwnProperty.toString;return("function"==typeof n&&i.call(n)===i.call(Object))!=!0},descriptor:function(t){var e=r.fn.typemap.index,n="object"==typeof t&&Object.keys(t||{})||[];if(e(n,"enumerable")&&e(n,"configurable")){if(e(n,"value"))return e(n,"writable");if(e(n,"get"))return e(n,"set")}return!1},classlike:function(t){return"function"==typeof t&&Object.keys(t.prototype).length>0},object:function(t){return!(!t||"object"!=typeof t||t instanceof Array)},defaultt:function(t,e){return typeof t===e}},r.fn.each=function(t,e,n){var i,a,u=0;if(r.type(e,"arraylike"))for(i=e.length;u<i&&(a=n.call(t,e[u],u,e),a!==!1);u++)a===-1&&([].splice.call(e,u,1),u--,i--);else for(u in e){if(a=n.call(t,e[u],u,e),a===!1)break;a===-1&&delete o[u]}return t},r.fn.first=function(t,e,n){var i;return r.fn.each(t,e,function(t,e,r){if(i=n.call(this,t,e,r),void 0!==i)return!1}),i},r.fn.map=function(t,e,n){var i,a,u;if(r.type(e,"arraylike"))i=[],Array.prototype.map.call(e,function(e,r,o){a=n.call(t,e,r,o),void 0!==a&&i.push(a)});else{i={};for(u in o)a=n.call(t,e[u],u,e),void 0!==a&&(i[u]=a)}return i},r.fn.filter=function(t,e,n){if(r.type(e,"arraylike"))return Array.prototype.filter.call(e,function(e,i,r){return n.call(t,e,i,r)});var i,o={};for(i in e)n.call(t,e[i],i,e)!==!1&&(o[i]=e[i]);return o},n._cache={},n._wraps={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],li:[1,"<ul>","</ul>"],dd:[1,"<dl>","</dl>"],defaultt:[0,"",""]},n._wraps.optgroup=n._wraps.option,n._wraps.caption=n._wraps.thead,n._wraps.tbody=n._wraps.thead,n._wraps.tfoot=n._wraps.thead,n._wraps.dt=n._wraps.dd,n.data=function(t,e,i){var o=t._id_||r.fn.uid(),a=i,u=n._cache[o]||{};return null===e?(t._id_=null,delete n._cache[o],u):null===a?(a=u[e],delete u[e],a):(void 0===a?(a=u[e],void 0===a&&/1|9|11/.test(t.nodeType)&&(a=t.getAttribute("data-"+e)||null)):u[e]=a,t._id_=o,n._cache[o]=u,a)},n.remove=function(t){if(t&&1===t.nodeType){r.fn.each(this,t.childNodes,function(t){n.remove(t)});var e=n.data(t,null);e&&e.events&&r.fn.each(this,e.events,function(e,i){n.events.off(t,i)}),t.parentNode.removeChild(t)}},n.events={capture:function(t,e){if(e)switch(t){case"mouseenter":case"mouseleave":case"blur":case"focus":return!0}return!1},delegate:function(t,e,i){var r={allowed:!1,target:t};return i?new n(i,t).each(function(t){if(e===t||new n(e).parent(t).length)return r.allowed=!0,r.target=t,!1}):r.allowed=!0,r},on:function(t,e,n,i,r){var o=e.split(".");this.add({node:t,type:o.shift(),namespace:o.join("."),handler:i,single:r||!1,delegate:n})},off:function(t,e,n){var i=e.split(".");this.remove({node:t,type:i.shift(),namespace:i.join("."),handler:n})},emit:function(t,e,n){var i=e.split("."),r=new Event(i.shift());r.namespace=i.join("."),r.data=n||[],t.dispatchEvent(r)},find:function(t,e,i){var o=n.data(t,"events")||{},a=o[e]||[];return r.fn.first(this,a,function(t){if(t.id===i)return t})},add:function(t){var e=r.fn.uid(),i=t.node,o=t.type,a=n.data(i,"events")||{},u=function(t){var i,r=n.events.find(this,t.type,e),o=n.events.delegate(this,t.target,r.delegate),a=!1;return t.namespace?t.namespace===r.namespace&&o.allowed&&(i=r.original.apply(o.target,[t].concat(t.data)),a=!0):o.allowed&&(i=r.original.apply(o.target,[t].concat(t.data)),a=!0),a&&r.single&&n.events.remove({node:this,add:!1,type:r.type,handler:r.original,namespace:r.namespace}),i};a[o]=a[o]||[],a[o].push({type:o,namespace:t.namespace,original:t.handler,delegate:t.delegate,handler:u,single:t.single,id:e}),n.data(i,"events",a),i.addEventListener(o,u,this.capture(o,t.delegate))},remove:function(t){var e=t.node,i=t.type,o=t.handler,a=t.namespace,u=n.data(e,"events")||{},c=u[i]||[];r.fn.each(this,c,function(t){if(!(a&&t.namespace!==a||o&&o!==t.original))return e.removeEventListener(i,t.handler),-1})}},n.prototype={length:0,context:null,constructor:n,each:function(t){return r.fn.each(this,this,t)},find:function(t,e){var i,o=document;return t=t||o,e=e||this.length&&this||[o],e===this?new n(t,e):(r.type(e,"string")?e=new n(e,o):e.nodeType&&(e=[e]),i=t,r.type(t,"string")&&(/^\s*<([^>\s]+)/.test(t)?i=this.markup(t):(i=[],r.fn.each(this,e,function(e){i=i.concat([].slice.call(e.querySelectorAll(t)))}))),i&&/1|9|11/.test(i.nodeType)&&(i=[i]),r.type(i,"arraylike")&&(i=[].slice.call(i)),[].splice.call(this,0,this.length||0),[].push.apply(this,i),this.context=e,this)},is:function(t){var e=new n(t,this.context),i=!1;return this.each(function(t){if(e.each(function(e){if(t===e)return i=!0,!1}),i)return!1}),i},filter:function(t){var e=new n(t,this.context),i=[];return this.each(function(t){e.each(function(e){t===e&&i.push(t)})}),new n(i,this.context)},parent:function(t,e){var i,r=[];return arguments.length?(i=new n(t,e),this.each(function(t){for(;t.parentNode;)i.each(function(e){if(e===t.parentNode)return r.indexOf(e)<0&&r.push(e),!1}),t=t.parentNode})):this.each(function(t){t.parentNode&&r.push(t.parentNode)}),new n(r)},closest:function(t,e){return this.parent(t,e)},markup:function(t){var e=document,i=e.createElement("template");if(i.content)return i.innerHTML=t,[].slice.call(i.content.childNodes);var r=(/^\s*<([^>\s]+)/.exec(t)||[])[1]||null,o=r&&n._wraps.hasOwnProperty(r)&&n._wraps[r]||n._wraps.defaultt,a=0;for(i=e.createElement("div"),i.innerHTML=o[1]+t+o[2];a<o[0];)i=i.firstChild,a++;return[].slice.call(i.childNodes)},html:function(t){return void 0===t?this.length?this[0].innerHTML:null:this.each(function(e){for(;e.firstChild;)n.remove(e.firstChild);r.fn.each(this,this.markup(t),function(t){e.appendChild(t)})})},text:function(t){return void 0===t?this.length?this[0].textContent:null:this.each(function(e){e.textContent=t})},nv:function(t,e,n){if("object"==typeof t){for(var i in t)n.call(this,i,t[i]);return this}return n.call(this,t,e)},attr:function(t,e){return this.nv(t,e,function(t,e){return void 0===e?this.length&&this[0].getAttribute(t):this.each(function(n){return null===e?void n.removeAttribute(t):void n.setAttribute(t,e)})})},prop:function(t,e){return this.nv(t,e,function(t,e){return void 0===e?this.length&&this[0][t]||null:this.each(function(n){n[t]=e})})},val:function(t){return void 0===t&&this.length?this[0].value:this.each(function(e){e.value=t})},data:function(t,e){return this.nv(t,e,function(t,e){return void 0===e?n.data(this[0],t):this.each(function(i){n.data(i,t,e)})})},css:function(t,e){return this.nv(t,e,function(t,e){return void 0===e&&this.length?getComputedStyle(this[0]).getPropertyValue(e):this.each(function(n){n.style[t]=r.type(e,"number")&&e+"px"||e})})},hasClass:function(t){var e=!1;return this.each(function(n){if(n.classList.contains(t))return e=!0,!1}),e},addClass:function(t){var e=t.split(" ");return r.fn.each(this,e,function(t){this.each(function(e){e.classList.add(t)})})},removeClass:function(t){var e=t.split(" ");return r.fn.each(this,e,function(t){this.each(function(e){e.classList.remove(t)})})},appendTo:function(t,e){var i=new n(t,e)[0]||null;return i&&this.each(function(t){i.appendChild(t)}),this},prependTo:function(t,e){var i=new n(t,e)[0]||null;return i&&this.each(function(t){return i.firstChild?void i.insertBefore(t,i.firstChild):void i.appendChild(t)}),this},append:function(t,e){if(this.length){var i=this[this.length-1];new n(t,e).each(function(t){i.appendChild(t)})}return this},prepend:function(t,e){if(this.length){var i=this[this.length-1];new n(t,e).each(function(t){return i.firstChild?void i.insertBefore(t,i.firstChild):void i.appendChild(t)})}return this},remove:function(t){var e=this;return t&&(e=new n(t,this)),e.each(function(t){n.remove(t)}),this},focus:function(){return this.length&&this[this.length-1].focus(),this},blur:function(){return this.length&&this[this.length-1].blur(),this},on:function(t,e,i,r){return i||(i=e,e=null),this.each(function(o){n.events.on(o,t,e,i,r)})},one:function(t,e,n){return this.on(t,e,n,!0)},off:function(t,e){return this.each(function(i){n.events.off(i,t,e)})},emit:function(t,e){return this.each(function(i){n.events.emit(i,t,e)})}},r.$=function(t,e){return new n(t,e)},r.extend=function(t,e,n){var i;if(r.type(n,"undefined"))for(i in e)r.extend(t,e,i);else i=Object.getOwnPropertyDescriptor(e,n),!i||void 0===i.get&&void 0===i.set?r.property(t,n,i.writable?i.value:i):Object.defineProperty(t,n,i);return this},r.property=function(t,e,n){var i,o=n;return r.type(n,"function")&&(i=r.fn.wrapFunction(n,e),o={enumerable:!0,configurable:!0,get:function(){return i},set:function(t){return r.type(t,"function")?void(i=r.fn.wrapFunction(t,e)):void(i=t)}}),r.type(o,"descriptor")||(o={value:n,writable:!0,configurable:!0,enumerable:!0}),Object.defineProperty(t,e,o),this},r.fn.wrapFunction=function(t,e){if(t._id_)return t;var n=function(){this._pushSuper(e);var n=t.apply(this,arguments);return this._popSuper(e),n};return n._id_=r.fn.uid(),n.toString=function(){return t.toString()},n},r.fn.pushSuper=function(t){this._chain_=this._chain_||[],this._chain_.push(t)},r.fn.popSuper=function(t){this._chain_.splice(this._chain_.lastIndexOf(t),1)},r.fn.template={xWhitespace:/[\r|\t|\n]+/g,xStatements:/{{([^}]+)}}(.*)({{\/\1}})/g,xInjections:/{{([^{]+)}}/g,markup:{highlight:'<span class="highlight">$1</span>',error:'<span class="error">{{template}} not found</span>'},parse:function(t,e,n,i){t=t||"",i=i||{},i.$key=e,n=n||{};var r=this;return r.get(t,n).replace(r.xWhitespace,"").replace(r.xStatements,function(t,o,a){return r.statements(t,e,o,a,n,i)}).replace(r.xInjections,function(t,o){return r.inject(t,e,o,n,i)})},get:function(t,e){var n=t;return e&&i.call(e,t)&&(n=e[t]),n instanceof Array&&(n=n.join("")),n},statements:function(t,e,n,r,o,a){var u=n.split(":"),c=u[0],s=u[1];return i.call(this.map,c)?this.map[c](r,e,o,"if"==c?a:a[s]||a,s):""},inject:function(t,e,n,o,a){var u=n.split(":"),c=u[0],s=u[1];return s&&i.call(this.map,c)?this.map[c](s,e,o,a,s):i.call(a,c)&&!r.type(a[c],"undefined|null")?a[c]:""},map:{loop:function(t,e,n,i,o){var a,u,c,s=r.fn.template,f=[],l=0;if(r.type(i,"arraylike"))for(a=i.length;l<a;l++)u=i[l],r.type(u,"object")||(u={key:"",value:u}),u.$index=l,f.push(s.parse(t,e,n,u));else{c=0;for(a in i)f.push(s.parse(t,e,n,{key:a,value:i[l],$index:c++}))}return f.join("")},if:function(t,e,n,o,a){if(i.call(o,a)){var u=o[a];if(!r.type(u,"empty")||u instanceof Array&&u.length>0)return r.fn.template.parse(t,e,n,o)}return""},highlight:function(t,e,n,i,o){var a,u=(r.fn.template,i[o]),c=i.highlight||"";return c&&(a=tp.get("highlight",tp.markup),u=u.replace(new RegExp("("+c+")","gi"),a)),u},scope:function(t,e,n,i){return r.fn.template.parse(t,e,n,i)},template:function(t,e,n,i){return r.fn.template.parse(t,e,n,i)}}},r.fn.eventEmitter={add:function(t){var e=t.bucket,n=this.event(t.type);t.namespace=n.ns,t.type=n.type,i.call(e,n.type)||(e[n.type]=[]),e[n.type].push(t)},event:function(t){return{type:/^(\w+)\.?/.exec(t)[1]||"",namespace:(/^\w+(\.?.*)$/.exec(t)||[])[1]||void 0}},args:function(t){return r.fn.map(this,t,function(t){return t})},on:function(t){return this.add(t)},one:function(t){return t.single=!0,this.add(t)},off:function(t,e,n,o){var a=t.bucket,u=t.handler,c=this.event(t.type);if(i.call(a,c.type))for(var s,f=a[c.type],l=r.type(u,"undefined"),h=c.namespace,p=f.length,d=0;d<p;d++)s=f[d],s.namespace!==h||!l&&u!==s.handler||(f.splice(d,1),p--,d--)},emit:function(e,n){var r=this.args(n),o=r.shift(),a=this.event(o);if(i.call(e,a.type))for(var u,c=a.namespace,s=e[a.type],f=s.length,l=0;l<f;l++)u=s[l],c&&u.namespace!==c||(u.handler.apply(u.context||t,r),u.single&&(s.splice(l,1),f--,l--))}},r.transitions={_enabled:!1,_key:null,_keys:{transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},get enabled(){return this._enabled},get disabled(){return this._enabled!==!0},get key(){if(this.enabled){if(this._key)return this._key;var t,e=this._keys,n=document.createElement("xanimate");for(t in e)if(!r.type(n.style[t],"undefined"))return this._key=e[t]}},enable:function(){return this._enabled=!0},disable:function(){return this._enabled=!1}},r.fn.keycodes={backspace:8,tab:9,enter:13,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,comma:188},r.define=function(t,e){for(var n=r,o=t.split("."),a=o.length-1,u=0;u<a;u++)i.call(n,o[u])||(n[o[u]]={}),n=n[o[u]];return n[o[a]]=e},r.get=function(t){for(var e=t.split("."),n=e.length,o=r,a=null,u=0;u<n;u++)i.call(o,e[u])?(a=o[e[u]],o=a):a=null;return a},r.create=function(t,e,n){t=t||"",n=n||e||{},e="function"==typeof e&&e.prototype instanceof r&&e||r;var i=function(){return this._init.apply(this,arguments),this};return i.prototype=Object.create(e.prototype),r.extend(i.prototype,n),i.prototype.constructor=i,i.prototype._super_=e,i.prototype._chain_=null,this.define(t,i)},r.prototype={name:"",constructor:r,templates:{},formats:{},config:null,events:null,root:null,deviceExp:/(android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini)/i,get _pushSuper(){return r.fn.pushSuper},get _popSuper(){return r.fn.popSuper},get super(){for(var t=this,e=t._chain_||[],n=e[e.length-1],r=e.reduce(function(t,e){return e===n&&t++,t},0);r--;)t=t._super_.prototype;return t&&i.call(t,n)?t[n]:null},get keycode(){return r.fn.keycodes},get transitions(){return r.transitions.enabled},get version(){return"v1.0.0"},get element(){return this.root[0]},get device(){return this.deviceExp.test(navigator.userAgent)},get devicekey(){var t=navigator.userAgent,e=(this.deviceExp.exec(t)||[])[1]||"";return e.toLowerCase()},$:function(t,e){return r.$(t,e)},uid:function(){return r.fn.uid()},template:function(t,e){return r.fn.template.parse(t,this.name,this.config.templates,e)},format:function(t,e){return r.fn.template.parse(t,this.name,this.config.formats,e)},html:function(t,e){return this.$(this.template(t,e))},each:function(t,e){return r.fn.each(this,t,e)},first:function(t,e){return r.fn.first(this,t,e)},map:function(t,e){return r.fn.map(this,t,e)},filter:function(t,e){return r.fn.filter(this,t,e)},node:function(t,e){return this.$(this.selector(t),e||this.root||null)},selector:function(t){return"."+this.name+(t&&"-"+t||"")},transition:function(t,e){var n=this.$(t),i=r.transitions.key,o=this;return i?(n.addClass("transition"),n.one(i,function(t){n.removeClass("transition"),e.call(o,t,n)}),this):(n.removeClass("transition"),this.each(n,function(t){this.delay(function(){e.call(this,null,this.$(t))},1)}))},clearTransitions:function(t){var e=r.transitions.key;return e&&this.$(t).off(e).removeClass("transition"),this},transitioning:function(t){return this.$(t).hasClass("transition")},delay:function(t,e){var n,i=this;return n=setTimeout(function(){t.call(i),clearTimeout(n),n=null},e||1)},on:function(t,e){return r.fn.eventEmitter.on({bucket:this.events,type:t,handler:e,context:this}),this},one:function(t,e){return r.fn.eventEmitter.one({bucket:this.events,type:t,handler:e,context:this}),this},off:function(t,e){return r.fn.eventEmitter.off({bucket:this.events,type:t,handler:e}),this},emit:function(t){return r.fn.eventEmitter.emit(this.events,arguments),this},_init:function(t,e){this._define(t,e),this._build(),this._bind()},_define:function(t,e){return this.root=this.$(t),this.events={},this.config={templates:{},formats:{}},this.each(this.formats,function(t,e){this.config.formats[e]=t}),this.each(this.templates,function(t,e){this.config.templates[e]=t}),this._config(e),this},_config:function(t){t=t||{};var e=this.config;return this.each(t,function(t,n){r.type(t,"object|arraylike")&&i.call(e,n)?this.each(t,function(t,i){e[n][i]=t}):e[n]=t}),this},_param:function(t,e,n,r,o){var a,u;if(i.call(n,t)&&(a=n[t]),void 0===a&&"undefined"!=e&&(a=this.$(o||this.root).data(t)),u=typeof a,u!==e)switch(e){case"boolean":a="true"===a||!1;break;case"number":a=parseFloat(a,10);break;case"string":a+="";case"undefined":a=r;break;case"object":a=null===a?r:a}return n[t]=a,this},_build:function(){},_bind:function(){}},r});